:root {
  --bg-default: #2C2C2C;
  --text-default: #E0E0E0;
  --headings: #F39C12;
  --links-default: #2ECC71;
  --links-visited: #1ABC9C;
  --links-hover: #3498DB;
  --accents-amethyst: #9B59B6;
  --accents-dodgerblue: #3498DB;
  --accents-turquoise: #1ABC9C;
  --highlights-crimson: #E74C3C;
  --highlights-pumpkin: #D35400;
  --code-background: #34495E;
  --code-text: #1ABC9C;
  --ft: 'BitPotionExt';
  --ft-mono: 'BitPotionExt';
  --line-height-base: 1.5;
  --font-size-base: 16px;
}

/* Base Styles */
html {
  box-sizing: border-box;
  font-size: var(--font-size-base);
}

*, *::before, *::after {
  box-sizing: inherit;
}

body {
  font-family: var(--ft);
  background-color: var(--bg-default);
  color: var(--text-default);
  line-height: var(--line-height-base);
  margin: 0 auto;
  max-width: 40em;
  padding: 1em;
  font-size: clamp(1rem, calc(1rem + (1.25rem - 1rem) * (100vw - 20rem) / (75rem - 20rem)), 1.25rem); /* Responsive font size */
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
  color: var(--headings);
  margin: 1em 0 0.5em;
  line-height: 1.2;
}

h1 { font-size: 2.5rem; }
h2 { font-size: 1.25rem; }
h3 { font-size: 1rem; }
h4 { font-size: 0.83333rem; }
h5 { font-size: 0.71429rem; }
h6 { font-size: 0.625rem; }

a {
  color: var(--links-default);
  transition: color 0.3s ease;
}

a:visited { 
  color: var(--links-visited); 
}

a:hover, a:focus { 
  color: var(--links-hover); 
}

p {
  text-align: justify;
  hyphens: auto;
}

/* Code Styles */
pre, code {
  font-family: var(--ft-mono);
  background: var(--code-background);
  color: var(--code-text);
  padding: 0.2em 0.4em;
  border-radius: 4px;
  overflow-x: auto;
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: break-word;
  font-size: clamp(0.875rem, calc(0.875rem + (1.125rem - 0.875rem) * (100vw - 20rem) / (75rem - 20rem)), 1.125rem); /* Responsive font size */
}

:not(pre) > code, kbd, samp, tt {
  font-family: var(--ft-mono);
  background: var(--code-background);
  color: var(--code-text);
  padding: 0.2em 0.4em;
  border-radius: 4px;
  overflow-x: auto;
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: break-word;
  font-size: clamp(0.75rem, calc(0.75rem + (1rem - 0.75rem) * (100vw - 20rem) / (75rem - 20rem)), 1rem); /* Responsive font size */
}

/* Responsive Elements */
img, canvas, iframe, video, svg, select, textarea {
  max-width: 100%;
  height: auto;
}

/* Table Styles */
table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  padding: 0.5em 1em;
  text-align: left;
  border: 1px dotted var(--accents-amethyst);
}

th, thead, tfoot {
  background: var(--headings);
  font-weight: bold;
  color: var(--bg-default);
}

/* Form Styles */
textarea {
  display: block;
  width: 100%;
}

input, textarea, select, button {
  font-family: inherit;
  font-size: 100%;
  margin: 0.2em 0;
}

/* Image and Figure Styles */
img[align="right"] { 
  margin-left: 1em; 
}

img[align="left"] { 
  margin-right: 1em; 
}

figcaption {
  font: caption;
  color: var(--accents-amethyst);
  font-size: 75%;
}

/* SVG and Icon Styles */
*[class*="social"] svg, 
*[class*="icon"] svg, 
svg[class*="icon"], 
img[class*="emoji"][src$=".svg"] {
  max-height: 30px;
  vertical-align: middle;
}

*[class*="logo" i] svg, 
img[src*="logo" i] {
  max-height: 70px;
  vertical-align: middle;
}

/* Custom Component Styles */
.comment-box {
  font-size: clamp(0.8125rem, calc(0.8125rem + (1rem - 0.8125rem) * (100vw - 20rem) / (75rem - 20rem)), 1rem); /* Responsive font size */
  margin: 1.25rem 0 0.625rem;
  line-height: 1.25;
  border: 1px dotted var(--accents-dodgerblue);
  padding: 0.3125rem 1.25rem;
  border-radius: 0.1875rem;
  background-color: rgba(var(--accents-dodgerblue), 0.1);
}

.search-link {
  display: inline-block;
  font-size: clamp(1.5rem, calc(1.5rem + (3rem - 1.5rem) * (100vw - 20rem) / (75rem - 20rem)), 3rem); /* Responsive font size */
  border: 1px dotted var(--accents-dodgerblue);
  border-radius: 0.1875rem;
  background-color: rgba(var(--accents-dodgerblue), 0.1);
  padding: 0.5em;
  transition: all 0.3s ease;
}

.search-link:hover, .search-link:focus {
  background-color: rgba(var(--accents-dodgerblue), 0.2);
  transform: scale(1.05);
}

blockquote {
  padding-left: 1em;
  margin-left: 0;
  border-left: 5px solid var(--accents-dodgerblue);
  background-color: rgba(var(--accents-dodgerblue), 0.1);
}

/* Accessibility */
.visually-hidden {
  position: absolute !important;
  height: 1px;
  width: 1px;
  overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap;
}

/* Selection Styles */
::selection {
  background-color: var(--code-background);
  color: var(--code-text);
}

/* Print Styles */
@media print {
  body {
    background-color: #FFFFFF;
    color: #000000;
  }
  
  a {
    color: var(--links-default) !important;
    text-decoration: underline;
  }
}

/* Tag Page Styles */
.tag-page {
  max-width: 800px;
  margin: 0 auto;
  padding: 1em;
}

.tag-list {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  list-style: none;
  padding: 0;
}

.tag-list li { 
  margin: 0.5em; 
}

.tag-list a {
  color: var(--links-default);
  background-color: var(--bg-default);
  border: 1px solid var(--links-default);
  border-radius: 0.25em;
  padding: 0.5em 1em;
  text-decoration: none;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.tag-list a:hover, .tag-list a:focus {
  background-color: var(--links-default);
  color: var(--bg-default);
}

.tagged-posts ul {
  list-style: none;
  padding-left: 0;
}

.tagged-posts li { 
  margin-bottom: 0.5em; 
}

.tagged-posts time {
  font-size: 0.9em;
  color: rgba(var(--text-default), 0.7);
}

.post-wrapper {
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.post-title { 
  color: var(--links-default); 
}

.post-heading .tags, .post-heading .tag { 
  color: var(--accents-dodgerblue); 
}

.post-heading .info { 
  color: rgba(var(--text-default), 0.8); 
}

.post-heading a {
  color: var(--accents-dodgerblue);
  text-decoration: none;
}

.post-heading a:hover { 
  text-decoration: underline; 
}

/* Code Container Styles */
.code-container {
  position: relative;
  margin-bottom: 1em;
}

.code-container pre {
  margin-bottom: 0; 
}

.code-container .copy-button {
  position: absolute;
  top: 5px;
  right: 5px;
  padding: 0.5em 1em;
  background-color: rgba(var(--text-default), 0.1);
  border: none;
  border-radius: 3px;
  cursor: pointer;
  color: var(--text-default);
  transition: background-color 0.3s ease;
}

.code-container .copy-button:hover {
  background-color: rgba(var(--text-default), 0.2);
}

.code-container .copy-button.copied {
  background-color: rgba(var(--headings), 0.4);
  color: var(--bg-default);
}

---
layout: default
title: Tags
permalink: /tags/
---

{% capture site_tags %}
  {% for post in site.posts %}
    {% if post.tags %}
      {% if post.tags.first.is_a? String %}
        {% assign tags = post.tags | split: ' ' %}
        {% for tag in tags %}
          {{ tag }},{% unless forloop.last %}{% endunless %}
        {% endfor %}
      {% elsif post.tags.first.is_a? Array %}
        {% for tag in post.tags %}
          {{ tag }},{% unless forloop.last %}{% endunless %}
        {% endfor %}
      {% endif %}
    {% endif %}
  {% endfor %}
{% endcapture %}

{% assign unique_tags = site_tags | split: ',' | uniq | sort %}

<style>
  .tag-page {
    max-width: 800px;
    margin: 0 auto;
    padding: 1em;
  }
  .tag-list {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    list-style-type: none;
    padding: 0;
  }
  .tag-list li {
    margin: 0.5em;
  }
  .tag-list a {
    color: #2ECC71;
    background-color: #2C2C2C;
    border: 1px solid #2ECC71;
    border-radius: 0.25em;
    padding: 0.5em 1em;
    text-decoration: none;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  .tag-list a:hover, .tag-list a:focus {
    background-color: #2ECC71;
    color: #2C2C2C;
  }
  .tagged-posts ul {
    list-style-type: none;
    padding-left: 0;
  }
  .tagged-posts li {
    margin-bottom: 0.5em;
  }
  .tagged-posts time {
    font-size: 0.9em;
    color: #666;
  }
  @media (prefers-color-scheme: dark) {
    body {
      background-color: #2C2C2C;
      color: #f0f0f0;
    }
    .tag-list a {
      background-color: #333;
    }
    .tagged-posts time {
      color: #999;
    }
  }
</style>

<div class="tag-page">
  <h1>{{ page.title }}</h1>

  <ul class="tag-list" aria-label="List of all tags">
    {% for tag in unique_tags %}
      {% assign tag_posts = site.posts | where_exp: "post", "post.tags contains tag or post.tags contains tag | split: ' '" %}
      <li>
        <a href="#{{ tag | slugify }}" aria-label="Tag {{ tag }} with {{ tag_posts.size }} posts">
          {{ tag }} ({{ tag_posts.size }})
        </a>
      </li>
    {% endfor %}
  </ul>

  <div class="tagged-posts">
    {% for tag in unique_tags %}
      <section aria-labelledby="{{ tag | slugify }}-heading">
        <h2 id="{{ tag | slugify }}-heading">{{ tag }}</h2>
        <ul>
          {% for post in site.posts %}
            {% if post.tags and (post.tags contains tag or (post.tags.first.is_a? String and post.tags contains tag)) %}
              <li>
                <a href="{{ post.url | relative_url }}">
                  {{ post.title }}
                </a>
                <time datetime="{{ post.date | date_to_xmlschema }}">
                  - {{ post.date | date: "%B %d, %Y" }}
                </time>
                {% if post.comment %}
                  <span class="post-comment"> | {{ post.comment }}</span>
                {% endif %}
                {% if post.info %}
                  <span class="post-info"> | {{ post.info }}</span>
                {% endif %}
              </li>
            {% endif %}
          {% endfor %}
        </ul>
	<a href="#" style="float: right">â†‘</a>
      </section>
    {% endfor %}
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const tagLinks = document.querySelectorAll('.tag-list a');
    tagLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({ behavior: 'smooth' });
          history.pushState(null, '', targetId);
        }
      });
    });
  });
</script>

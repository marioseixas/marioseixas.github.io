<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    
      Deep Chat Speech — infoBAG
    
  </title>
  <link rel="canonical" href="https://ib.bsb.br/deepchat/">
  <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
  
    <meta itemprop="keywords" content="AI">
    
      <meta property="article:tag" content="AI">
    
  
  <link href="/style.css" rel="stylesheet">
  <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
  <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  <script type="module">
    import PagefindHighlight from '/pagefind/pagefind-highlight.js';
    new PagefindHighlight({ highlightParam: "highlight" });
  </script>
  <script src="/assets/js/search.js" defer></script>
  <script src="/assets/js/prism.js" defer></script>
</head>
<body class="post-content-body">
  <header class="header-container">
    <nav aria-label="Main navigation" class="header-content">
      <a class="internal-link" href="/" aria-label="Home">
        <img src="/assets/Sudden_Death_Rune.gif" alt="Sudden Death Rune" class="favicon">
      </a>
      <a href="https://ib.bsb.br/archive" aria-label="Archive">
        <img src="/favicon.ico" alt="Archive Icon" class="favicon">
      </a>
      <a href="https://ib.bsb.br/tags" aria-label="Tags">
        <img src="/assets/Label.gif" alt="Tags Icon" class="favicon">
      </a>
      <a href="https://ib.bsb.br/events" aria-label="Events">
        <img src="/assets/Paralyse_Rune.gif" alt="Events Icon" class="favicon">
      </a>
    </nav>
    <div class="search-link">
      <div id="search" class="search-input-block"></div>
    </div>
  </header>
  <article class="post-wrapper">
    <div class="post-heading">
      <h1 class="post-title">Deep Chat Speech</h1>
      <div class="post-meta">
        <time datetime="2024-03-12T03:00:00+00:00" class="post-date">
          12 Mar 2024</time><span class="post-updated"> &rightarrowtail; <time datetime="2024-07-13T13:46:16+00:00">13 Jul 2024
          </time>
          </span>
        
        
        <div class="post-info">
          Edit: aberto.
        </div>
        
        
        <div class="post-tags">
          Tags:
          
          <a href="https://ib.bsb.br/tags/#ai" class="tag">AI</a>
        </div>
        
        <div class="post-actions">
          <a href="https://github.com/marioseixas/marioseixas.github.io/edit/main/_posts/2024-03-12-deepchat.md" target="_blank" rel="noopener noreferrer" class="btn-primary">
            Improve this page
          </a>
          <a href="https://github.com/marioseixas/marioseixas.github.io/commits/main/_posts/2024-03-12-deepchat.md" target="_blank" rel="noopener noreferrer" class="btn-secondary">
            View revision history
          </a>
        </div>
      </div>
    </div>
    <main class="content">
      
<ul><li><a href="#speech">Speech</a><ul><li><a href="#texttospeech"><code class="language-plaintext highlighter-rouge">textToSpeech</code></a><ul><li><a href="#example">Example</a></li></ul></li><li><a href="#speechtotext"><code class="language-plaintext highlighter-rouge">speechToText</code></a><ul><li><a href="#example-1">Example</a></li></ul></li></ul></li><li><a href="#types">Types</a><ul><li><a href="#webspeechoptions"><code class="language-plaintext highlighter-rouge">WebSpeechOptions</code></a><ul><li><a href="#example-2">Example</a></li></ul></li><li><a href="#azureoptions"><code class="language-plaintext highlighter-rouge">AzureOptions</code></a><ul><li><a href="#example-3">Example</a></li><li><a href="#retrieve-token-example">Retrieve token example</a></li></ul></li><li><a href="#textcolor"><code class="language-plaintext highlighter-rouge">TextColor</code></a><ul><li><a href="#example-4">Example</a></li></ul></li><li><a href="#commands"><code class="language-plaintext highlighter-rouge">Commands</code></a><ul><li><a href="#example-5">Example</a></li></ul></li><li><a href="#buttonstyles"><code class="language-plaintext highlighter-rouge">ButtonStyles</code></a><ul><li><a href="#example-6">Example</a></li></ul></li><li><a href="#submitaftersilence"><code class="language-plaintext highlighter-rouge">SubmitAfterSilence</code></a><ul><li><a href="#example-7">Example</a></li></ul></li></ul></li><li><a href="#demo">Demo</a></li></ul></li></ul>
      <h1 id="speech">
    
    
     <a href="#speech">#</a><a href="#" aria-label="Back to top">Speech</a>
        
    
  </h1>
      

<p><a href="https://github.com/OvidijusParsiunas/deep-chat/assets/18709577/e103a42e-b3a7-4449-b9db-73fed6d7876e">Demo Video</a></p>
  <h3 id="texttospeech">
    
    
     <a href="#texttospeech">#</a><a href="#" aria-label="Back to top"><code class="language-plaintext highlighter-rouge">textToSpeech</code></a>
        
    
  </h3>
      

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Type: <code class="language-plaintext highlighter-rouge">true</code></td>
          <td>{<br />      <code class="language-plaintext highlighter-rouge">voiceName?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">lang?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">pitch?: number</code>, <br />      <code class="language-plaintext highlighter-rouge">rate?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">volume?: number</code> <br /> }</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<p>When the chat receives a new text message - your device will automatically read it out.</p>

<p><code class="language-plaintext highlighter-rouge">voiceName</code> is the name of the voice that will be used to read out the incoming message. Please note that different Operating Systems support different voices. Use the following code snippet to see the available voices for your device: <code class="language-plaintext highlighter-rouge">window.speechSynthesis.getVoices()</code></p>

<p><code class="language-plaintext highlighter-rouge">lang</code> is used to set the utterance language. See the following <a href="https://stackoverflow.com/questions/23733537/what-are-the-supported-languages-for-web-speech-api-in-html5"><code class="language-plaintext highlighter-rouge">QA</code></a> for the available options.</p>

<p><code class="language-plaintext highlighter-rouge">pitch</code> sets the pitch at which the utterance will be spoken at.</p>

<p><code class="language-plaintext highlighter-rouge">volume</code> set the volume at which the utterance will be spoken at.</p>

<blockquote>
  <p>[!INFO]
Text to speech is using <a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesis"><code class="language-plaintext highlighter-rouge">SpeechSynthesis</code></a> Web API which is supported differently across different devices.</p>
</blockquote>

<blockquote>
  <p>[!INFO]
Your mouse needs to be focused on the browser window for this to work.</p>
</blockquote>
  <h4 id="example">
    
    
     <a href="#example">#</a><a href="#" aria-label="Back to top">Example</a>
        
    
  </h4>
      

<div class="language-html highlighter-rouge"><div class="highlight"><section><code><span class="nt">&lt;deep-chat</span> <span class="na">textToSpeech=</span><span class="s">'{"volume": 0.9}'</span><span class="nt">&gt;&lt;/deep-chat&gt;</span>
</code></section></div></div>
  <h3 id="speechtotext">
    
    
     <a href="#speechtotext">#</a><a href="#" aria-label="Back to top"><code class="language-plaintext highlighter-rouge">speechToText</code></a>
        
    
  </h3>
      

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Type: <code class="language-plaintext highlighter-rouge">true</code></td>
          <td>{<br />      <code class="language-plaintext highlighter-rouge">webSpeech?:</code> <code class="language-plaintext highlighter-rouge">true</code></td>
          <td><a href="#WebSpeechOptions"><code class="language-plaintext highlighter-rouge">WebSpeechOptions</code></a>, <br />      <a href="#AzureOptions"><code class="language-plaintext highlighter-rouge">azure?: AzureOptions</code></a>, <br />      <a href="#TextColor"><code class="language-plaintext highlighter-rouge">textColor?: TextColor</code></a>, <br />      <code class="language-plaintext highlighter-rouge">displayInterimResults?: boolean</code>, <br />      <code class="language-plaintext highlighter-rouge">translations?: {[key: string]: string}</code>, <br />      <a href="#Commands"><code class="language-plaintext highlighter-rouge">commands?: Commands</code></a>, <br />      <a href="#ButtonStyles"><code class="language-plaintext highlighter-rouge">button?: ButtonStyles</code></a>, <br />      <code class="language-plaintext highlighter-rouge">stopAfterSubmit?: boolean</code>, <br />      <a href="#SubmitAfterSilence"><code class="language-plaintext highlighter-rouge">submitAfterSilence?: SubmitAfterSilence</code></a> <br /> }</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>Default: <em>{webSpeech: true, stopAfterSubmit: true}</em></li>
</ul>

<p>Transcribe your voice into text and control chat with commands.</p>

<p><code class="language-plaintext highlighter-rouge">webSpeech</code> utilises <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API"><code class="language-plaintext highlighter-rouge">Web Speech API</code></a> to transcribe your speech.</p>

<p><code class="language-plaintext highlighter-rouge">azure</code> utilises <a href="https://learn.microsoft.com/en-us/azure/ai-services/speech-service/speech-to-text"><code class="language-plaintext highlighter-rouge">Azure Cognitive Speech Services API</code></a> to transcribe your speech.</p>

<p><code class="language-plaintext highlighter-rouge">textColor</code> is used to set the color of interim and final results text.</p>

<p><code class="language-plaintext highlighter-rouge">displayInterimResults</code> controls whether interim results are displayed.</p>

<p><code class="language-plaintext highlighter-rouge">translations</code> is a case-sensitive one-to-one mapping of words that will automatically be translated to others.</p>

<p><code class="language-plaintext highlighter-rouge">commands</code> is used to set the phrases that will trigger various chat functionality.</p>

<p><code class="language-plaintext highlighter-rouge">button</code> defines the styling used for the microphone button.</p>

<p><code class="language-plaintext highlighter-rouge">stopAfterSubmit</code> is used to toggle whether the recording stops after a message has been submitted.</p>

<p><code class="language-plaintext highlighter-rouge">submitAfterSilence</code> configures automated message submit functionality when the user stops speaking.</p>

<blockquote>
  <p>[!WARNING]
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API"><code class="language-plaintext highlighter-rouge">Web Speech API</code></a> is not supported in this browser.</p>
</blockquote>
  <h4 id="example-1">
    
    
     <a href="#example-1">#</a><a href="#" aria-label="Back to top">Example</a>
        
    
  </h4>
      

<div class="language-html highlighter-rouge"><div class="highlight"><section><code><span class="nt">&lt;deep-chat</span> <span class="na">speechToText=</span><span class="s">'{ "webSpeech": true, "translations": {"hello": "goodbye", "Hello": "Goodbye"}, "commands": {"resume": "resume", "settings": {"commandMode": "hello"}}, "button": {"position": "outside-left"} }'</span> <span class="nt">&gt;&lt;/deep-chat&gt;</span>
</code></section></div></div>

<blockquote>
  <p>[!INFO]
If the <a href="/docs/files#microphone"><code class="language-plaintext highlighter-rouge">microphone</code></a> recorder is set - this will not be enabled.</p>
</blockquote>

<blockquote>
  <p>[!INFO]
Speech to text functionality is provided by the <a href="https://github.com/OvidijusParsiunas/speech-to-element"><code class="language-plaintext highlighter-rouge">Speech To Element</code></a> library.</p>
</blockquote>

<blockquote>
  <p>[!CAUTION]
Support for <code class="language-plaintext highlighter-rouge">webSpeech</code> varies across different browsers, please check the <a href="https://caniuse.com/?search=Web%20Speech%20API"><code class="language-plaintext highlighter-rouge">Can I use</code></a> Speech Recognition API section. (The yellow bars indicate that it is supported)</p>
</blockquote>
  <h2 id="types">
    
    
     <a href="#types">#</a><a href="#" aria-label="Back to top">Types</a>
        
    
  </h2>
      

<p>Object types for <a href="#speechToText"><code class="language-plaintext highlighter-rouge">speechToText</code></a>:</p>
  <h3 id="webspeechoptions">
    
    
     <a href="#webspeechoptions">#</a><a href="#" aria-label="Back to top"><code class="language-plaintext highlighter-rouge">WebSpeechOptions</code></a>
        
    
  </h3>
      

<ul>
  <li>Type: {<code class="language-plaintext highlighter-rouge">language?: string</code>}</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">language</code> is used to set the recognition language. See the following <a href="https://stackoverflow.com/questions/23733537/what-are-the-supported-languages-for-web-speech-api-in-html5"><code class="language-plaintext highlighter-rouge">QA</code></a> for the full list.</p>

<blockquote>
  <p>[!WARNING]
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API"><code class="language-plaintext highlighter-rouge">Web Speech API</code></a> is not supported in this browser.</p>
</blockquote>
  <h4 id="example-2">
    
    
     <a href="#example-2">#</a><a href="#" aria-label="Back to top">Example</a>
        
    
  </h4>
      

<div class="language-html highlighter-rouge"><div class="highlight"><section><code><span class="nt">&lt;deep-chat</span> <span class="na">speechToText=</span><span class="s">'{"webSpeech": {"language": "en-US"}}'</span><span class="nt">&gt;&lt;/deep-chat&gt;</span>
</code></section></div></div>

<blockquote>
  <p>[!NOTE]
This service stops after a brief period of silence due to limitations in its API and not Deep Chat.</p>
</blockquote>
  <h3 id="azureoptions">
    
    
     <a href="#azureoptions">#</a><a href="#" aria-label="Back to top"><code class="language-plaintext highlighter-rouge">AzureOptions</code></a>
        
    
  </h3>
      

<ul>
  <li>Type: {<br />      <code class="language-plaintext highlighter-rouge">region: string</code>, <br />      <code class="language-plaintext highlighter-rouge">retrieveToken?: () =&gt; Promise&lt;string&gt;</code>, <br />      <code class="language-plaintext highlighter-rouge">subscriptionKey?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">token?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">language?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">stopAfterSilenceMs?: number</code> <br /> }</li>
  <li>Default: <em>{stopAfterSilenceMs: 25000 (25 seconds)}</em></li>
</ul>

<p>This object requires <code class="language-plaintext highlighter-rouge">region</code> and either <code class="language-plaintext highlighter-rouge">retrieveToken</code>, <code class="language-plaintext highlighter-rouge">subscriptionKey</code> or the <code class="language-plaintext highlighter-rouge">token</code> properties to be defined with it:</p>

<p><code class="language-plaintext highlighter-rouge">region</code> is the location/region of your Azure speech resource.</p>

<p><code class="language-plaintext highlighter-rouge">retrieveToken</code> is a function used to retrieve a new token for the Azure speech resource. It is the recommended property to use as it can retrieve the token from a secure server that will hide your credentials. Check out the <a href="#retrieve-token-example">retrieval example</a> below and <a href="https://github.com/OvidijusParsiunas/speech-to-element/tree/main/examples">starter server templates</a>.</p>

<p><code class="language-plaintext highlighter-rouge">subscriptionKey</code> is the subscription key for the Azure speech resource.</p>

<p><code class="language-plaintext highlighter-rouge">token</code> is a temporary token for the Azure speech resource.</p>

<p><code class="language-plaintext highlighter-rouge">language</code> is a BCP-47 string value to denote the recognition language. You can find the full list <a href="https://docs.microsoft.com/azure/cognitive-services/speech-service/supported-languages">here</a>.</p>

<p><code class="language-plaintext highlighter-rouge">stopAfterSilenceMs</code> is the milliseconds of silence required for the microphone to automatically turn off.</p>

<blockquote>
  <p>[!INFO]
To use the Azure Speech To Text service - please add the <a href="https://www.npmjs.com/package/microsoft-cognitiveservices-speech-sdk"><code class="language-plaintext highlighter-rouge">Speech SDK</code></a> to your project. See <a href="/examples/externalModules">EXAMPLES</a>.</p>
</blockquote>
  <h4 id="example-3">
    
    
     <a href="#example-3">#</a><a href="#" aria-label="Back to top">Example</a>
        
    
  </h4>
      

<div class="language-html highlighter-rouge"><div class="highlight"><section><code><span class="nt">&lt;deep-chat</span> <span class="na">speechToText=</span><span class="s">'{ "azure": { "subscriptionKey": "resource-key", "region": "resource-region", "language": "en-US", "stopAfterSilenceMs": 5000 } }'</span> <span class="nt">&gt;&lt;/deep-chat&gt;</span>
</code></section></div></div>

<p>Location of speech service credentials in Azure Portal:</p>

<p><img src="https://example.com/img/azure-credentials.png" alt="Azure Credentials" /></p>

<blockquote>
  <p>[!CAUTION]
The <code class="language-plaintext highlighter-rouge">subscriptionKey</code> and <code class="language-plaintext highlighter-rouge">token</code> properties should only be used for local/prototyping/demo purposes ONLY. When you are ready to deploy your application, please switch to using the <code class="language-plaintext highlighter-rouge">retrieveToken</code> property. Check out the example below and <a href="https://github.com/OvidijusParsiunas/speech-to-element/tree/main/examples">starter server templates</a>.</p>
</blockquote>
  <h4 id="retrieve-token-example">
    
    
     <a href="#retrieve-token-example">#</a><a href="#" aria-label="Back to top">Retrieve token example</a>
        
    
  </h4>
      

<div class="language-javascript highlighter-rouge"><div class="highlight"><section><code><span class="nx">speechToText</span><span class="p">.</span><span class="nx">speechToText</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">region</span><span class="p">:</span> <span class="dl">'</span><span class="s1">resource-region</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">retrieveToken</span><span class="p">:</span> <span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nf">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://localhost:8080/token</span><span class="dl">'</span><span class="p">)</span>
      <span class="p">.</span><span class="nf">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nf">text</span><span class="p">())</span>
      <span class="p">.</span><span class="nf">then</span><span class="p">((</span><span class="nx">token</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">token</span><span class="p">);</span>
  <span class="p">},</span>
<span class="p">};</span>
</code></section></div></div>
  <h3 id="textcolor">
    
    
     <a href="#textcolor">#</a><a href="#" aria-label="Back to top"><code class="language-plaintext highlighter-rouge">TextColor</code></a>
        
    
  </h3>
      

<ul>
  <li>Type: {<code class="language-plaintext highlighter-rouge">interim?: string</code>, <code class="language-plaintext highlighter-rouge">final?: string</code>}</li>
</ul>

<p>This object is used to set the color of <code class="language-plaintext highlighter-rouge">interim</code> and <code class="language-plaintext highlighter-rouge">final</code> results text.</p>
  <h4 id="example-4">
    
    
     <a href="#example-4">#</a><a href="#" aria-label="Back to top">Example</a>
        
    
  </h4>
      

<div class="language-html highlighter-rouge"><div class="highlight"><section><code><span class="nt">&lt;deep-chat</span> <span class="na">speechToText=</span><span class="s">'{"textColor": {"interim": "green", "final": "blue"}}'</span><span class="nt">&gt;&lt;/deep-chat&gt;</span>
</code></section></div></div>
  <h3 id="commands">
    
    
     <a href="#commands">#</a><a href="#" aria-label="Back to top"><code class="language-plaintext highlighter-rouge">Commands</code></a>
        
    
  </h3>
      

<ul>
  <li>Type: {<br />      <code class="language-plaintext highlighter-rouge">stop?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">pause?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">resume?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">removeAllText?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">submit?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">commandMode?: string</code>, <br />      <code class="language-plaintext highlighter-rouge">settings?:</code> {<code class="language-plaintext highlighter-rouge">substrings?: boolean</code>, <code class="language-plaintext highlighter-rouge">caseSensitive?: boolean</code>} <br /> }</li>
  <li>Default: <em>{settings: {substrings: true, caseSensitive: false}}</em></li>
</ul>

<p>This object is used to set the phrases which will control chat functionality via speech.</p>

<p><code class="language-plaintext highlighter-rouge">stop</code> is used to stop the speech service.</p>

<p><code class="language-plaintext highlighter-rouge">pause</code> will temporarily stop the transcription and will re-enable it after the phrase for <code class="language-plaintext highlighter-rouge">resume</code> is spoken.</p>

<p><code class="language-plaintext highlighter-rouge">removeAllText</code> is used to remove all input text.</p>

<p><code class="language-plaintext highlighter-rouge">submit</code> will send the current input text.</p>

<p><code class="language-plaintext highlighter-rouge">commandMode</code> is a phrase that is used to activate the command mode which will not transcribe any text and will wait for a command to be executed. To leave the command mode - you can use the phrase for the <code class="language-plaintext highlighter-rouge">resume</code> command.</p>

<p><code class="language-plaintext highlighter-rouge">substrings</code> is used to toggle whether command phrases can be part of spoken words or if they are whole words. E.g. when this is set to <em>true</em> and your command phrase is <em>“stop”</em> - when you say “stopping” the command will be executed. However if it is set to <em>false</em> - the command will only be executed if you say “stop”.</p>

<p><code class="language-plaintext highlighter-rouge">caseSensitive</code> is used to toggle if command phrases are case sensitive. E.g. if this is set to <em>true</em> and your command phrase is <em>“stop”</em> - when the service recognizes your speech as “Stop” it will not execute your command. On the other hand if it is set to <em>false</em> it will execute.</p>
  <h4 id="example-5">
    
    
     <a href="#example-5">#</a><a href="#" aria-label="Back to top">Example</a>
        
    
  </h4>
      

<div class="language-html highlighter-rouge"><div class="highlight"><section><code><span class="nt">&lt;deep-chat</span> <span class="na">speechToText=</span><span class="s">'{ "commands": { "stop": "stop", "pause": "pause", "resume": "resume", "removeAllText": "remove text", "submit": "submit", "commandMode": "command", "settings": { "substrings": true, "caseSensitive": false }}}'</span> <span class="nt">&gt;&lt;/deep-chat&gt;</span>
</code></section></div></div>
  <h3 id="buttonstyles">
    
    
     <a href="#buttonstyles">#</a><a href="#" aria-label="Back to top"><code class="language-plaintext highlighter-rouge">ButtonStyles</code></a>
        
    
  </h3>
      

<ul>
  <li>Type: {<a href="/docs/styles/#ButtonStyles"><code class="language-plaintext highlighter-rouge">commandMode?: ButtonStyles</code></a>, <a href="/docs/styles/#MicrophoneStyles"><code class="language-plaintext highlighter-rouge">MicrophoneStyles</code></a>}</li>
</ul>

<p>This object is used to define the styling for the microphone button.</p>

<p>It contains the same properties as the <a href="/docs/styles/#MicrophoneStyles"><code class="language-plaintext highlighter-rouge">MicrophoneStyles</code></a> object and an additional <code class="language-plaintext highlighter-rouge">commandMode</code> property which sets the button styling when the <a href="#Commands"><code class="language-plaintext highlighter-rouge">command mode</code></a> is activated.</p>
  <h4 id="example-6">
    
    
     <a href="#example-6">#</a><a href="#" aria-label="Back to top">Example</a>
        
    
  </h4>
      

<div class="language-html highlighter-rouge"><div class="highlight"><section><code><span class="nt">&lt;deep-chat</span> <span class="na">speechToText=</span><span class="s">'{ "button": { "commandMode": { "svg": { "styles": { "default": { "filter": "brightness(0) saturate(100%) invert(70%) sepia(70%) saturate(4438%) hue-rotate(170deg) brightness(92%) contrast(98%)" }}}}, "active": { "svg": { "styles": { "default": { "filter": "brightness(0) saturate(100%) invert(10%) sepia(97%) saturate(7495%) hue-rotate(0deg) brightness(101%) contrast(107%)" }}}}, "default": { "svg": { "styles": { "default": { "filter": "brightness(0) saturate(100%) invert(77%) sepia(9%) saturate(7093%) hue-rotate(32deg) brightness(99%) contrast(83%)" }}}}}, "commands": { "removeAllText": "remove text", "commandMode": "command" } }'</span> <span class="nt">&gt;&lt;/deep-chat&gt;</span>
</code></section></div></div>

<blockquote>
  <p>[!TIP]
You can use the <a href="https://cssfilterconverter.com/"><code class="language-plaintext highlighter-rouge">CSSFilterConverter</code></a> tool to generate filter values for the icon color.</p>
</blockquote>
  <h3 id="submitaftersilence">
    
    
     <a href="#submitaftersilence">#</a><a href="#" aria-label="Back to top"><code class="language-plaintext highlighter-rouge">SubmitAfterSilence</code></a>
        
    
  </h3>
      

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Type: <code class="language-plaintext highlighter-rouge">true</code></td>
          <td><code class="language-plaintext highlighter-rouge">number</code></td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<p>Automatically submit the input message after a period of silence.</p>

<p>This property accepts the value of <em>true</em> or a number which represents the milliseconds of silence required to wait before a messaget is submitted. If this is set to <em>true</em> the default milliseconds is <em>2000</em>.</p>
  <h4 id="example-7">
    
    
     <a href="#example-7">#</a><a href="#" aria-label="Back to top">Example</a>
        
    
  </h4>
      

<div class="language-html highlighter-rouge"><div class="highlight"><section><code><span class="nt">&lt;deep-chat</span> <span class="na">speechToText=</span><span class="s">'{"submitAfterSilence": 3000}'</span><span class="nt">&gt;&lt;/deep-chat&gt;</span>
</code></section></div></div>

<blockquote>
  <p>[!CAUTION]
When using the default <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API"><code class="language-plaintext highlighter-rouge">Web Speech API</code></a> - the recording will automatically stop after 5-7 seconds of silence, please take care when setting the <code class="language-plaintext highlighter-rouge">ms</code> property.</p>
</blockquote>
  <h2 id="demo">
    
    
     <a href="#demo">#</a><a href="#" aria-label="Back to top">Demo</a>
        
    
  </h2>
      

<p>This is the example used in the <a href="https://github.com/OvidijusParsiunas/deep-chat/assets/18709577/e103a42e-b3a7-4449-b9db-73fed6d7876e">demo video</a>. When replicating - make sure to add the Speech SDK to your project and add your resource properties.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><section><code><span class="c">&lt;!-- This example is for Vanilla JS and should be tailored to your framework (see Examples) --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: flex"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;deep-chat</span> <span class="na">speechToText=</span><span class="s">'{ "azure": { "subscriptionKey": "resource-key", "region": "resource-region" }, "commands": { "stop": "stop", "pause": "pause", "resume": "resume", "removeAllText": "remove text", "submit": "submit", "commandMode": "command" }}'</span> <span class="na">errorMessages=</span><span class="s">'{ "overrides": {"speechToText": "Azure Speech To Text can not be used in this website as you need to set your credentials."} }'</span> <span class="na">style=</span><span class="s">"margin-right: 30px"</span> <span class="na">demo=</span><span class="s">"true"</span> <span class="nt">&gt;&lt;/deep-chat&gt;</span>
  <span class="nt">&lt;deep-chat</span> <span class="na">speechToText=</span><span class="s">'{ "commands": { "azure": { "subscriptionKey": "resource-key", "region": "resource-region" }, "stop": "stop", "pause": "pause", "resume": "resume", "removeAllText": "remove text", "submit": "submit", "commandMode": "command" }}'</span> <span class="na">errorMessages=</span><span class="s">'{ "overrides": {"speechToText": "Azure Speech To Text can not be used in this website as you need to set your credentials."} }'</span> <span class="na">demo=</span><span class="s">"true"</span> <span class="nt">&gt;&lt;/deep-chat&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></section></div></div>

      
      
      <div class="nav-arrow prev">
        <a href="/xsessionrc/" title="/root/.xsessionrc">
          <span class="sr-only">
            Anterior:
          </span>
          <span aria-hidden="true">&#8672;</span>
        </a>
      </div>
      
      
      <div class="nav-arrow next">
        <a href="/ufj-tcc/" title="Processo de Depósito Legal - UFJ">
          <span class="sr-only">
            Seguinte:
          </span>
          <span aria-hidden="true">&#8674;</span>
        </a>
        
    </main>
    <hr>    
    
    <div class="comment-box">
      <a href="#" aria-label="Back to top"><img src="/assets/gold.ico" alt="Back to top"></a><a href="https://raw.githubusercontent.com/OvidijusParsiunas/active-chat/main/website/docs/docs/speech.mdx" title="page.comment">https://raw.githubusercontent.com/OvidijusParsiunas/active-chat/main/website/docs/docs/speech.mdx</a>
    </div>
    
  </article>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    
      AWS PushSafer billing alarm — infoBAG
    
  </title>
  <meta name="title" content="infoBAG" />
  <meta name="description" content="can't steer unless already moving" />
  <link rel="canonical" href="https://ib.bsb.br/aws-pushsafer-billing-alarm/">
  <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
  
    <meta itemprop="keywords" content="software>cloud">
    
      <meta property="article:tag" content="software>cloud">
    
  
  <link href="/style.css" rel="stylesheet">
  <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
  <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  <script type="module">
    import PagefindHighlight from '/pagefind/pagefind-highlight.js';
    new PagefindHighlight({ highlightParam: "highlight" });
  </script>
  <script src="/assets/js/search.js" defer></script>
  <script src="/assets/js/prism.js" defer></script>
</head>
<body class="post-content-body">
  <header class="header-container">
    <div id="search" class="search-input-block"></div>
    <nav aria-label="Main navigation" class="header-content">
      <a href="/" aria-label="Home">
        <img src="/assets/Sudden_Death_Rune.gif" alt="Sudden Death Rune" class="favicon">
      </a>
      <a href="https://ib.bsb.br/archive" aria-label="Archive">
        <img src="/favicon.ico" alt="Archive Icon" class="favicon">
      </a>
      <a href="https://ib.bsb.br/tags" aria-label="Tags">
        <img src="/assets/Label.gif" alt="Tags Icon" class="favicon">
      </a>
      <a href="https://ib.bsb.br/events" aria-label="Events">
        <img src="/assets/Paralyse_Rune.gif" alt="Events Icon" class="favicon">
      </a>
    </nav>
  </header>
  <article class="post-wrapper">
    <div class="post-heading">
      <h1 class="post-title">AWS PushSafer billing alarm</h1>
      <div class="post-meta">
        <time datetime="2024-07-25T00:00:00+00:00" class="post-date">
          25 Jul 2024</time><span class="post-updated"> &rightarrowtail; <time datetime="2024-08-23T02:55:47+00:00">23 Aug 2024
          </time>
          </span>
        
        
        <div class="post-info">
          Edit: aberto.
        </div>
        
        
        <div class="post-tags">
          Tags:
          
          <a href="https://ib.bsb.br/tags/#software-cloud" class="tag">
            software>cloud
          </a>
          
          
        </div>
        
        <div class="post-actions">
          <a href="https://github.com/marioseixas/marioseixas.github.io/edit/main/_posts/2024-07-25-aws-pushsafer-billing-alarm.md" target="_blank" rel="noopener noreferrer" class="btn-primary">
            Improve this page
          </a>&hArr;<a href="https://github.com/marioseixas/marioseixas.github.io/commits/main/_posts/2024-07-25-aws-pushsafer-billing-alarm.md" target="_blank" rel="noopener noreferrer" class="btn-secondary">
            View revision history
          </a>
        </div>
      </div>
    </div>
    <aside class="aside">
      
<ul><li><a href="#enabling-billing-alerts">Enabling Billing Alerts</a></li><li><a href="#creating-a-billing-alarm">Creating a Billing Alarm</a></li><li><a href="#automating-billing-alerts-with-push-notifications">Automating Billing Alerts with Push Notifications</a></li><li><a href="#integrating-two-factor-authentication-2fa">Integrating Two-Factor Authentication (2FA)</a></li></ul>
      <h3 id="enabling-billing-alerts">
    
    
     <a href="#enabling-billing-alerts">#</a><a href="#" aria-label="Back to top">Enabling Billing Alerts</a>
        
    
  </h3>
      

<p>Before creating a billing alarm, you must enable billing alerts to monitor your estimated AWS charges. This process involves enabling billing metric data collection, which cannot be disabled once activated, although you can delete any billing alarms you create. Here are the steps to enable billing alerts:</p>

<ol>
  <li><strong>Sign In</strong>: Ensure you are signed in using account root user credentials or as an IAM user with permission to view billing information.</li>
  <li><strong>Open AWS Billing Console</strong>: Navigate to the AWS Billing console at <a href="https://console.aws.amazon.com/billing/home?#/">https://console.aws.amazon.com/billing/</a>.</li>
  <li><strong>Billing Preferences</strong>: In the navigation pane, select <strong>Billing Preferences</strong>.</li>
  <li><strong>Edit Alert Preferences</strong>: Under <strong>Alert preferences</strong>, click <strong>Edit</strong>.</li>
  <li><strong>Enable Alerts</strong>: Choose <strong>Receive CloudWatch Billing Alerts</strong>.</li>
  <li><strong>Save Preferences</strong>: Click <strong>Save preferences</strong>.</li>
</ol>

<p>After enabling billing alerts, it takes approximately 15 minutes before you can view billing data and set billing alarms.</p>
  <h3 id="creating-a-billing-alarm">
    
    
     <a href="#creating-a-billing-alarm">#</a><a href="#" aria-label="Back to top">Creating a Billing Alarm</a>
        
    
  </h3>
      

<p>Once billing alerts are enabled, you can create a billing alarm to receive notifications when your estimated charges exceed a specified threshold. Follow these steps to create a billing alarm using the CloudWatch console:</p>

<ol>
  <li><strong>Open CloudWatch Console</strong>: Go to <a href="https://console.aws.amazon.com/cloudwatch/">https://console.aws.amazon.com/cloudwatch/</a>.</li>
  <li><strong>Navigate to Alarms</strong>: In the navigation pane, select <strong>Alarms</strong>, then <strong>All alarms</strong>.</li>
  <li><strong>Create Alarm</strong>: Click <strong>Create alarm</strong>.</li>
  <li><strong>Select Metric</strong>: Choose <strong>Select metric</strong>, then under <strong>Browse</strong>, select <strong>Billing</strong> and <strong>Total Estimated Charge</strong>.</li>
  <li><strong>Choose Metric</strong>: Select the <strong>EstimatedCharges</strong> metric and click <strong>Select metric</strong>.</li>
  <li><strong>Configure Alarm</strong>:
    <ul>
      <li><strong>Statistic</strong>: Choose <strong>Maximum</strong>.</li>
      <li><strong>Period</strong>: Set to <strong>6 hours</strong>.</li>
      <li><strong>Threshold Type</strong>: Select <strong>Static</strong>.</li>
      <li><strong>Threshold Value</strong>: Define the value that triggers the alarm, e.g., <code class="language-plaintext highlighter-rouge">200</code> USD.</li>
    </ul>
  </li>
  <li><strong>Additional Configuration</strong>:
    <ul>
      <li><strong>Datapoints to Alarm</strong>: Specify <strong>1 out of 1</strong>.</li>
      <li><strong>Missing Data Treatment</strong>: Choose <strong>Treat missing data as missing</strong>.</li>
    </ul>
  </li>
  <li><strong>Notification Setup</strong>: Under <strong>Notification</strong>, ensure <strong>In alarm</strong> is selected. Specify an Amazon SNS topic to be notified when the alarm is in the <code class="language-plaintext highlighter-rouge">ALARM</code> state. This can include your email address for notifications.</li>
  <li><strong>Finalize Alarm</strong>: Enter a name and optional description for your alarm, review the configuration, and choose <strong>Create alarm</strong>.</li>
</ol>
  <h3 id="automating-billing-alerts-with-push-notifications">
    
    
     <a href="#automating-billing-alerts-with-push-notifications">#</a><a href="#" aria-label="Back to top">Automating Billing Alerts with Push Notifications</a>
        
    
  </h3>
      

<p>To automate billing alerts and receive them as push notifications on your iPhone using a service like Pushsafer, follow these steps:</p>

<ol>
  <li><strong>Create an SNS Topic</strong>:
    <ul>
      <li><strong>Open SNS Console</strong>: Go to the <a href="https://console.aws.amazon.com/sns/v3/home">Amazon SNS Console</a>.</li>
      <li><strong>Create Topic</strong>: Click <strong>Create topic</strong> and choose <strong>Standard</strong>. Enter a name for your topic and click <strong>Create topic</strong>.</li>
    </ul>
  </li>
  <li><strong>Create Subscription</strong>:
    <ul>
      <li><strong>Protocol</strong>: Select <strong>HTTPS</strong>.</li>
      <li><strong>Endpoint</strong>: Enter the Pushsafer API URL in the format <code class="language-plaintext highlighter-rouge">https://www.pushsafer.com/api</code>.</li>
      <li><strong>Attributes</strong>: Add the necessary attributes, including your Pushsafer private key.</li>
    </ul>
  </li>
  <li><strong>Confirm Subscription</strong>: Pushsafer will send a confirmation request to the specified endpoint. Confirm the subscription in your Pushsafer account.</li>
  <li><strong>Attach SNS Topic to CloudWatch Alarm</strong>: When setting up the CloudWatch alarm, specify the SNS topic created above for notifications.</li>
</ol>
  <h3 id="integrating-two-factor-authentication-2fa">
    
    
     <a href="#integrating-two-factor-authentication-2fa">#</a><a href="#" aria-label="Back to top">Integrating Two-Factor Authentication (2FA)</a>
        
    
  </h3>
      

<p>To enhance security, integrate two-factor authentication (2FA) for accessing your AWS account. This ensures that only authorized users can modify billing alerts and access sensitive billing information. Here’s how to enable 2FA:</p>

<ol>
  <li><strong>Sign In to AWS Management Console</strong>: Use your root account or an IAM user with administrative privileges.</li>
  <li><strong>Navigate to IAM</strong>: Go to the Identity and Access Management (IAM) console.</li>
  <li><strong>Select Users</strong>: Choose the user for whom you want to enable 2FA.</li>
  <li><strong>Security Credentials</strong>: Under the <strong>Security credentials</strong> tab, choose <strong>Manage MFA device</strong>.</li>
  <li><strong>Choose MFA Device</strong>: Select the type of MFA device you want to use (e.g., virtual MFA device, U2F security key).</li>
  <li><strong>Configure Device</strong>: Follow the on-screen instructions to configure the MFA device. This typically involves scanning a QR code with an authenticator app and entering the generated code.</li>
</ol>

      <main class="content">        
      </main>
      
      <div class="nav-arrow prev">
        <a href="/mlo-workspaces-logic/" title="MLO Workspaces logic">
          <span aria-hidden="true"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAxVJREFUaEPt18FqG1cUBuD/nLkzI42UiVInkFLTCAKhS+9KA+3Kq1L8AAHjhR7AKz+ADV55qUfoqhvThTfdmC4KzTKmYJrELshJW9PIlSeKRpqZe88pUtouihvVRknqMNoMzD1zdPXNrzMM4RJ+6BLuGeWm39RdK6VL6VcIlPEo41HG401loJQupS8mUM7pi7md/6p3UtoHUJzf4vVecZb0e0EQfB7H8b0kSeqqummt/eb1buN83SebNsZ8QkQCYHVpaenu/v7+ra2tLRwdHWF1ddWq6hfM3BCRE2b+FcBHACQAHo1E5v9c+5mIhkR0e3z0VQ8LotuqWlXVw/GRmT8QkdMK89McuAOAAfwoIu8z85yIHBPRKRGN1/IAeDx0rul53hivo6psrf2ejDGfEtFOu92u7O3tBWtra2i322g0GhgOh9je3ka325UPax7fCR0iw+lp4aLxr70aeOmgkChTRY3JGSb73EroERD73uB54WpOgdhwZkXNQNQLiVDzOU1yFymAhu+lqZVopIqISQKmPLFS+atHv3A1q8AVQ/lXP/VHRPQx+b6frKysxMvLy1hfX0ez2USv18PCwgLiOEaSJKhWq/jhwQN8dnIfVOS4dsWHqCJ5YREGjBuNEMfd0eTc9WshBqnFYGhRqxrUIoNuLwMT4eb1Cp6dZshywdW6mZzr9QsEPuPmXIhfno3gnGKuEWCUC14MLKoVb1L72+8Zvj3JOl/udZt/S7darUqn0wlarRZ2d3cxPz+PJ8dPsPP1Doq8kIbL+cawjxBIM8MRFAidpBlRpIbhFc55gM2NF5IIQtVBRlRTZgTWZQ4wzvc8spO1NPM4Gr9Wh1bSDIjU98C5E0PIC8OVSX+Rlz08hl+4/LsML6X/menFxcW7BwcHtzY2NvDw8CE21zf/NdMAHskFMs3MT/EfMg3gsTsr02f8byfTo16v3+v3+//f6fGKgXNp5vT5huZbqH4nH+NvwXH6V5bS041mU1FKz8ZxepdSerrRbCpK6dk4Tu9SSk83mk1FKT0bx+ldSunpRrOpuJTSfwBcuImxpyA7XgAAAABJRU5ErkJggg==" alt="Previous" style="max-width: 45px; height: auto;"></span>
        </a>
      </div>
      
      
      <div class="nav-arrow next">
        <a href="/pound-cake/" title="Bolo Pão (Pound Cake)">
          <span aria-hidden="true"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtl01rG1cUht9z7p070ijKWLVS3I9YULtNMBRn2UIXxZtuvCjedNWfoKVXBvsHeOUfoIUx5AeY0pVXXSR052UxBJSi0kDiRplII83HvadI9CMtOFjCmBjubC7cc8+Zc555eYdLuIEP3cCe4Zu+rq/mSXvSbyHg5eHl4eVxXRrwpD3p+Qh4n56P2+xZnvTszC7MCAAUF0XfOdJa62+IaCeO40GSJA/zPP8RwB9vDjBtWmv9JRE5ImpZawdVpbo58CkAIyJnIrLAzEvOuXNm/h3AfQDOAGdj5z5m5gXn3G9ENCKilckaiDwpiFZEpCoiTyYrM3/knOtXmHs58BkABvCLc+4DZl6cxIjoh4ODA728vIzt7W2sra09PT4+fgTgQES4LMvHZIy5LyI/f/dJvfK6FKMJqAdqmBS2ZgWINY9zJyZ1whUiRJrTfmGjybSxUemwcFEmghqT1UxlUrpQEXD7jRq3NWelEz10okIi1AJOX+U2EgALgUrT0kVnmcKvQ+uazSZvbW2hWq2i3++j3W5jf38f6+vrebvdHovI5pT09+vN7teLYev990K8GpQYjS1u1TQqhnHez6EU4cM7FTw7z5AXDo16ACcyPRsaxp2FEM9ejKd7zUaIYVpiOCpRq2rUIo0XLzMwEZaaFTzvZ8hyh/iWnu69fF1AAoOfFr/A5w8eYDQaIY5jJEmC09NTNBoNdLtd7O3t4ejoCIeHh8k/pL8KUSkCZcg6hCLDjLk2ufYGpRuXAuOMYiosQiDNNEcQILQuzYgi0QxVWKuAMtcqJPdXDaKaMMOUNrOAtoFSVE5jaaY4mtQPS5dmQPS8WkdfGReYgDe/3cTdpbvo9XrY2NhAp9NBq9XKO53Ov6T/r2mlVBeX0DSAMzeHppm5h7doemdvR99buYfd3V2srq4+PTk5+a+mr9CmrqTU3+5Rr9cHg8HgYve4krddbZGb5dOXmf2d+7n4pi9D4LrOeHl40v42fl0a8KQ96fkIeJ+ej9vsWZ707Mzmy/Ck5+M2e9afhmuAz1BhwewAAAAASUVORK5CYII=" alt="Next" style="max-width: 45px; height: auto;"></span>
        </a>
      </div>
      
    </aside>
    
  </article>
</body>
</html>

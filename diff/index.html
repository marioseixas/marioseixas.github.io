<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      
        Diff â€” infoBAG
      
    </title>
    <link rel="canonical" href="https://ib.bsb.br/diff/">
    <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
    <link href="/style.css" rel="stylesheet">
    <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/assets/js/prism.js" defer></script>
    <script src="/assets/js/search.js" defer></script>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
    <script type="module">
      import PagefindHighlight from '/pagefind/pagefind-highlight.js';
      new PagefindHighlight({ highlightParam: "highlight" });
    </script>
    
      <meta itemprop="keywords" content="tools">
      
        <meta property="article:tag" content="tools">
      
    
  </head>
  <body class="post-content-body">
    <header class="header-container">
      <nav aria-label="Main navigation" class="header-content">
          <a class="internal-link" href="/" aria-label="Home">
            <img src="/favicon.ico" alt="Archive Icon" class="favicon">
          </a>
          <a href="https://ib.bsb.br/tags" aria-label="Tags">
            <img src="/assets/Label.gif" alt="Tags Icon" class="favicon">
          </a>
          <a href="https://ib.bsb.br/events" aria-label="Events">
            <img src="/assets/Paralyse_Rune.gif" alt="Events Icon" class="favicon">
          </a>
          <a href="https://ib.bsb.br/archive" aria-label="Archive">
            <img src="/assets/Sudden_Death_Rune.gif" alt="Sudden Death Rune" class="favicon">
          </a>
        </nav>
        <div class="search-link">
          <div id="search" class="search-input-block"></div>
        </div>
    </header>
    <article class="post-wrapper">
      <main class="content">
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div style="position: relative; margin: 30px;"&gt;
    &lt;form action="#" onsubmit="return false"&gt;
        &lt;table width="100%"&gt;
            &lt;tbody&gt;
                &lt;tr&gt;
                    &lt;td width="50%"&gt;
                        &lt;h3&gt;Text Version 1:&lt;/h3&gt;
                        &lt;textarea id="text1" style="width: 100%" rows="10"&gt;&lt;/textarea&gt;
                    &lt;/td&gt;
                    &lt;td width="50%"&gt;
                        &lt;h3&gt;Text Version 2:&lt;/h3&gt;
                        &lt;textarea id="text2" style="width: 100%" rows="10"&gt;&lt;/textarea&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;
            &lt;/tbody&gt;
        &lt;/table&gt;
        &lt;h3&gt;Diff timeout:&lt;/h3&gt;
        &lt;p&gt;&lt;input type="text" size="3" maxlength="5" value="0" id="timeout"&gt; seconds&lt;br&gt;
            If the mapping phase of the diff computation takes longer than this, then the computation
            is truncated and the best solution to date is returned. While guaranteed to be correct,
            it may not be optimal. A timeout of '0' allows for unlimited computation.&lt;/p&gt;
        &lt;h3&gt;Post-diff cleanup:&lt;/h3&gt;
        &lt;dl&gt;
            &lt;dt&gt;&lt;input type="radio" name="cleanup" id="semantic" checked=""&gt;
                &lt;label for="semantic"&gt;Semantic Cleanup&lt;/label&gt;
            &lt;/dt&gt;
            &lt;dd&gt;Increase human readability by factoring out commonalities which are likely to be
                coincidental.&lt;/dd&gt;
            &lt;dt&gt;&lt;input type="radio" name="cleanup" id="efficiency"&gt;
                &lt;label for="efficiency"&gt;Efficiency Cleanup&lt;/label&gt;,
                edit cost: &lt;input type="text" size="3" maxlength="5" value="4" id="editcost"&gt;
            &lt;/dt&gt;
            &lt;dd&gt;Increase computational efficiency by factoring out short commonalities which are
                not worth the overhead. The larger the edit cost, the more aggressive the cleanup.&lt;/dd&gt;
            &lt;dt&gt;&lt;input type="radio" name="cleanup" id="raw"&gt;
                &lt;label for="raw"&gt;No Cleanup&lt;/label&gt;
            &lt;/dt&gt;
            &lt;dd&gt;Raw output.&lt;/dd&gt;
        &lt;/dl&gt;
        &lt;p&gt;&lt;input type="button" onclick="launch()" value="Compute Diff"&gt;&lt;/p&gt;
    &lt;/form&gt;
&lt;/div&gt;
&lt;br&gt;
&lt;div style="position: relative; margin: 30px;" id="outputdiv"&gt;&lt;/div&gt;   &lt;script&gt; var diff_match_patch=function(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=.5;this.Match_Distance=1E3;this.Patch_DeleteThreshold=.5;this.Patch_Margin=4;this.Match_MaxBits=32},DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;diff_match_patch.Diff=function(a,b){this[0]=a;this[1]=b};diff_match_patch.Diff.prototype.length=2;diff_match_patch.Diff.prototype.toString=function(){return this[0]+","+this[1]}; diff_match_patch.prototype.diff_main=function(a,b,c,d){"undefined"==typeof d&amp;&amp;(d=0&gt;=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1E3*this.Diff_Timeout);if(null==a||null==b)throw Error("Null input. (diff_main)");if(a==b)return a?[new diff_match_patch.Diff(DIFF_EQUAL,a)]:[];"undefined"==typeof c&amp;&amp;(c=!0);var e=c,f=this.diff_commonPrefix(a,b);c=a.substring(0,f);a=a.substring(f);b=b.substring(f);f=this.diff_commonSuffix(a,b);var g=a.substring(a.length-f);a=a.substring(0,a.length-f);b=b.substring(0, b.length-f);a=this.diff_compute_(a,b,e,d);c&amp;&amp;a.unshift(new diff_match_patch.Diff(DIFF_EQUAL,c));g&amp;&amp;a.push(new diff_match_patch.Diff(DIFF_EQUAL,g));this.diff_cleanupMerge(a);return a}; diff_match_patch.prototype.diff_compute_=function(a,b,c,d){if(!a)return[new diff_match_patch.Diff(DIFF_INSERT,b)];if(!b)return[new diff_match_patch.Diff(DIFF_DELETE,a)];var e=a.length&gt;b.length?a:b,f=a.length&gt;b.length?b:a,g=e.indexOf(f);return-1!=g?(c=[new diff_match_patch.Diff(DIFF_INSERT,e.substring(0,g)),new diff_match_patch.Diff(DIFF_EQUAL,f),new diff_match_patch.Diff(DIFF_INSERT,e.substring(g+f.length))],a.length&gt;b.length&amp;&amp;(c[0][0]=c[2][0]=DIFF_DELETE),c):1==f.length?[new diff_match_patch.Diff(DIFF_DELETE, a),new diff_match_patch.Diff(DIFF_INSERT,b)]:(e=this.diff_halfMatch_(a,b))?(b=e[1],f=e[3],a=e[4],e=this.diff_main(e[0],e[2],c,d),c=this.diff_main(b,f,c,d),e.concat([new diff_match_patch.Diff(DIFF_EQUAL,a)],c)):c&amp;&amp;100&lt;a.length&amp;&amp;100&lt;b.length?this.diff_lineMode_(a,b,d):this.diff_bisect_(a,b,d)}; diff_match_patch.prototype.diff_lineMode_=function(a,b,c){var d=this.diff_linesToChars_(a,b);a=d.chars1;b=d.chars2;d=d.lineArray;a=this.diff_main(a,b,!1,c);this.diff_charsToLines_(a,d);this.diff_cleanupSemantic(a);a.push(new diff_match_patch.Diff(DIFF_EQUAL,""));for(var e=d=b=0,f="",g="";b&lt;a.length;){switch(a[b][0]){case DIFF_INSERT:e++;g+=a[b][1];break;case DIFF_DELETE:d++;f+=a[b][1];break;case DIFF_EQUAL:if(1&lt;=d&amp;&amp;1&lt;=e){a.splice(b-d-e,d+e);b=b-d-e;d=this.diff_main(f,g,!1,c);for(e=d.length-1;0&lt;=e;e--)a.splice(b, 0,d[e]);b+=d.length}d=e=0;g=f=""}b++}a.pop();return a}; diff_match_patch.prototype.diff_bisect_=function(a,b,c){for(var d=a.length,e=b.length,f=Math.ceil((d+e)/2),g=2*f,h=Array(g),l=Array(g),k=0;k&lt;g;k++)h[k]=-1,l[k]=-1;h[f+1]=0;l[f+1]=0;k=d-e;for(var m=0!=k%2,p=0,x=0,w=0,q=0,t=0;t&lt;f&amp;&amp;!((new Date).getTime()&gt;c);t++){for(var v=-t+p;v&lt;=t-x;v+=2){var n=f+v;var r=v==-t||v!=t&amp;&amp;h[n-1]&lt;h[n+1]?h[n+1]:h[n-1]+1;for(var y=r-v;r&lt;d&amp;&amp;y&lt;e&amp;&amp;a.charAt(r)==b.charAt(y);)r++,y++;h[n]=r;if(r&gt;d)x+=2;else if(y&gt;e)p+=2;else if(m&amp;&amp;(n=f+k-v,0&lt;=n&amp;&amp;n&lt;g&amp;&amp;-1!=l[n])){var u=d-l[n];if(r&gt;= u)return this.diff_bisectSplit_(a,b,r,y,c)}}for(v=-t+w;v&lt;=t-q;v+=2){n=f+v;u=v==-t||v!=t&amp;&amp;l[n-1]&lt;l[n+1]?l[n+1]:l[n-1]+1;for(r=u-v;u&lt;d&amp;&amp;r&lt;e&amp;&amp;a.charAt(d-u-1)==b.charAt(e-r-1);)u++,r++;l[n]=u;if(u&gt;d)q+=2;else if(r&gt;e)w+=2;else if(!m&amp;&amp;(n=f+k-v,0&lt;=n&amp;&amp;n&lt;g&amp;&amp;-1!=h[n]&amp;&amp;(r=h[n],y=f+r-n,u=d-u,r&gt;=u)))return this.diff_bisectSplit_(a,b,r,y,c)}}return[new diff_match_patch.Diff(DIFF_DELETE,a),new diff_match_patch.Diff(DIFF_INSERT,b)]}; diff_match_patch.prototype.diff_bisectSplit_=function(a,b,c,d,e){var f=a.substring(0,c),g=b.substring(0,d);a=a.substring(c);b=b.substring(d);f=this.diff_main(f,g,!1,e);e=this.diff_main(a,b,!1,e);return f.concat(e)}; diff_match_patch.prototype.diff_linesToChars_=function(a,b){function c(a){for(var b="",c=0,g=-1,h=d.length;g&lt;a.length-1;){g=a.indexOf("\n",c);-1==g&amp;&amp;(g=a.length-1);var l=a.substring(c,g+1);(e.hasOwnProperty?e.hasOwnProperty(l):void 0!==e[l])?b+=String.fromCharCode(e[l]):(h==f&amp;&amp;(l=a.substring(c),g=a.length),b+=String.fromCharCode(h),e[l]=h,d[h++]=l);c=g+1}return b}var d=[],e={};d[0]="";var f=4E4,g=c(a);f=65535;var h=c(b);return{chars1:g,chars2:h,lineArray:d}}; diff_match_patch.prototype.diff_charsToLines_=function(a,b){for(var c=0;c&lt;a.length;c++){for(var d=a[c][1],e=[],f=0;f&lt;d.length;f++)e[f]=b[d.charCodeAt(f)];a[c][1]=e.join("")}};diff_match_patch.prototype.diff_commonPrefix=function(a,b){if(!a||!b||a.charAt(0)!=b.charAt(0))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c&lt;e;)a.substring(f,e)==b.substring(f,e)?f=c=e:d=e,e=Math.floor((d-c)/2+c);return e}; diff_match_patch.prototype.diff_commonSuffix=function(a,b){if(!a||!b||a.charAt(a.length-1)!=b.charAt(b.length-1))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c&lt;e;)a.substring(a.length-e,a.length-f)==b.substring(b.length-e,b.length-f)?f=c=e:d=e,e=Math.floor((d-c)/2+c);return e}; diff_match_patch.prototype.diff_commonOverlap_=function(a,b){var c=a.length,d=b.length;if(0==c||0==d)return 0;c&gt;d?a=a.substring(c-d):c&lt;d&amp;&amp;(b=b.substring(0,c));c=Math.min(c,d);if(a==b)return c;d=0;for(var e=1;;){var f=a.substring(c-e);f=b.indexOf(f);if(-1==f)return d;e+=f;if(0==f||a.substring(c-e)==b.substring(0,e))d=e,e++}}; diff_match_patch.prototype.diff_halfMatch_=function(a,b){function c(a,b,c){for(var d=a.substring(c,c+Math.floor(a.length/4)),e=-1,g="",h,k,l,m;-1!=(e=b.indexOf(d,e+1));){var p=f.diff_commonPrefix(a.substring(c),b.substring(e)),u=f.diff_commonSuffix(a.substring(0,c),b.substring(0,e));g.length&lt;u+p&amp;&amp;(g=b.substring(e-u,e)+b.substring(e,e+p),h=a.substring(0,c-u),k=a.substring(c+p),l=b.substring(0,e-u),m=b.substring(e+p))}return 2*g.length&gt;=a.length?[h,k,l,m,g]:null}if(0&gt;=this.Diff_Timeout)return null; var d=a.length&gt;b.length?a:b,e=a.length&gt;b.length?b:a;if(4&gt;d.length||2*e.length&lt;d.length)return null;var f=this,g=c(d,e,Math.ceil(d.length/4));d=c(d,e,Math.ceil(d.length/2));if(g||d)g=d?g?g[4].length&gt;d[4].length?g:d:d:g;else return null;if(a.length&gt;b.length){d=g[0];e=g[1];var h=g[2];var l=g[3]}else h=g[0],l=g[1],d=g[2],e=g[3];return[d,e,h,l,g[4]]}; diff_match_patch.prototype.diff_cleanupSemantic=function(a){for(var b=!1,c=[],d=0,e=null,f=0,g=0,h=0,l=0,k=0;f&lt;a.length;)a[f][0]==DIFF_EQUAL?(c[d++]=f,g=l,h=k,k=l=0,e=a[f][1]):(a[f][0]==DIFF_INSERT?l+=a[f][1].length:k+=a[f][1].length,e&amp;&amp;e.length&lt;=Math.max(g,h)&amp;&amp;e.length&lt;=Math.max(l,k)&amp;&amp;(a.splice(c[d-1],0,new diff_match_patch.Diff(DIFF_DELETE,e)),a[c[d-1]+1][0]=DIFF_INSERT,d--,d--,f=0&lt;d?c[d-1]:-1,k=l=h=g=0,e=null,b=!0)),f++;b&amp;&amp;this.diff_cleanupMerge(a);this.diff_cleanupSemanticLossless(a);for(f=1;f&lt; a.length;){if(a[f-1][0]==DIFF_DELETE&amp;&amp;a[f][0]==DIFF_INSERT){b=a[f-1][1];c=a[f][1];d=this.diff_commonOverlap_(b,c);e=this.diff_commonOverlap_(c,b);if(d&gt;=e){if(d&gt;=b.length/2||d&gt;=c.length/2)a.splice(f,0,new diff_match_patch.Diff(DIFF_EQUAL,c.substring(0,d))),a[f-1][1]=b.substring(0,b.length-d),a[f+1][1]=c.substring(d),f++}else if(e&gt;=b.length/2||e&gt;=c.length/2)a.splice(f,0,new diff_match_patch.Diff(DIFF_EQUAL,b.substring(0,e))),a[f-1][0]=DIFF_INSERT,a[f-1][1]=c.substring(0,c.length-e),a[f+1][0]=DIFF_DELETE, a[f+1][1]=b.substring(e),f++;f++}f++}}; diff_match_patch.prototype.diff_cleanupSemanticLossless=function(a){function b(a,b){if(!a||!b)return 6;var c=a.charAt(a.length-1),d=b.charAt(0),e=c.match(diff_match_patch.nonAlphaNumericRegex_),f=d.match(diff_match_patch.nonAlphaNumericRegex_),g=e&amp;&amp;c.match(diff_match_patch.whitespaceRegex_),h=f&amp;&amp;d.match(diff_match_patch.whitespaceRegex_);c=g&amp;&amp;c.match(diff_match_patch.linebreakRegex_);d=h&amp;&amp;d.match(diff_match_patch.linebreakRegex_);var k=c&amp;&amp;a.match(diff_match_patch.blanklineEndRegex_),l=d&amp;&amp;b.match(diff_match_patch.blanklineStartRegex_); return k||l?5:c||d?4:e&amp;&amp;!g&amp;&amp;h?3:g||h?2:e||f?1:0}for(var c=1;c&lt;a.length-1;){if(a[c-1][0]==DIFF_EQUAL&amp;&amp;a[c+1][0]==DIFF_EQUAL){var d=a[c-1][1],e=a[c][1],f=a[c+1][1],g=this.diff_commonSuffix(d,e);if(g){var h=e.substring(e.length-g);d=d.substring(0,d.length-g);e=h+e.substring(0,e.length-g);f=h+f}g=d;h=e;for(var l=f,k=b(d,e)+b(e,f);e.charAt(0)===f.charAt(0);){d+=e.charAt(0);e=e.substring(1)+f.charAt(0);f=f.substring(1);var m=b(d,e)+b(e,f);m&gt;=k&amp;&amp;(k=m,g=d,h=e,l=f)}a[c-1][1]!=g&amp;&amp;(g?a[c-1][1]=g:(a.splice(c- 1,1),c--),a[c][1]=h,l?a[c+1][1]=l:(a.splice(c+1,1),c--))}c++}};diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;diff_match_patch.whitespaceRegex_=/\s/;diff_match_patch.linebreakRegex_=/[\r\n]/;diff_match_patch.blanklineEndRegex_=/\n\r?\n$/;diff_match_patch.blanklineStartRegex_=/^\r?\n\r?\n/; diff_match_patch.prototype.diff_cleanupEfficiency=function(a){for(var b=!1,c=[],d=0,e=null,f=0,g=!1,h=!1,l=!1,k=!1;f&lt;a.length;)a[f][0]==DIFF_EQUAL?(a[f][1].length&lt;this.Diff_EditCost&amp;&amp;(l||k)?(c[d++]=f,g=l,h=k,e=a[f][1]):(d=0,e=null),l=k=!1):(a[f][0]==DIFF_DELETE?k=!0:l=!0,e&amp;&amp;(g&amp;&amp;h&amp;&amp;l&amp;&amp;k||e.length&lt;this.Diff_EditCost/2&amp;&amp;3==g+h+l+k)&amp;&amp;(a.splice(c[d-1],0,new diff_match_patch.Diff(DIFF_DELETE,e)),a[c[d-1]+1][0]=DIFF_INSERT,d--,e=null,g&amp;&amp;h?(l=k=!0,d=0):(d--,f=0&lt;d?c[d-1]:-1,l=k=!1),b=!0)),f++;b&amp;&amp;this.diff_cleanupMerge(a)}; diff_match_patch.prototype.diff_cleanupMerge=function(a){a.push(new diff_match_patch.Diff(DIFF_EQUAL,""));for(var b=0,c=0,d=0,e="",f="",g;b&lt;a.length;)switch(a[b][0]){case DIFF_INSERT:d++;f+=a[b][1];b++;break;case DIFF_DELETE:c++;e+=a[b][1];b++;break;case DIFF_EQUAL:1&lt;c+d?(0!==c&amp;&amp;0!==d&amp;&amp;(g=this.diff_commonPrefix(f,e),0!==g&amp;&amp;(0&lt;b-c-d&amp;&amp;a[b-c-d-1][0]==DIFF_EQUAL?a[b-c-d-1][1]+=f.substring(0,g):(a.splice(0,0,new diff_match_patch.Diff(DIFF_EQUAL,f.substring(0,g))),b++),f=f.substring(g),e=e.substring(g)), g=this.diff_commonSuffix(f,e),0!==g&amp;&amp;(a[b][1]=f.substring(f.length-g)+a[b][1],f=f.substring(0,f.length-g),e=e.substring(0,e.length-g))),b-=c+d,a.splice(b,c+d),e.length&amp;&amp;(a.splice(b,0,new diff_match_patch.Diff(DIFF_DELETE,e)),b++),f.length&amp;&amp;(a.splice(b,0,new diff_match_patch.Diff(DIFF_INSERT,f)),b++),b++):0!==b&amp;&amp;a[b-1][0]==DIFF_EQUAL?(a[b-1][1]+=a[b][1],a.splice(b,1)):b++,c=d=0,f=e=""}""===a[a.length-1][1]&amp;&amp;a.pop();c=!1;for(b=1;b&lt;a.length-1;)a[b-1][0]==DIFF_EQUAL&amp;&amp;a[b+1][0]==DIFF_EQUAL&amp;&amp;(a[b][1].substring(a[b][1].length- a[b-1][1].length)==a[b-1][1]?(a[b][1]=a[b-1][1]+a[b][1].substring(0,a[b][1].length-a[b-1][1].length),a[b+1][1]=a[b-1][1]+a[b+1][1],a.splice(b-1,1),c=!0):a[b][1].substring(0,a[b+1][1].length)==a[b+1][1]&amp;&amp;(a[b-1][1]+=a[b+1][1],a[b][1]=a[b][1].substring(a[b+1][1].length)+a[b+1][1],a.splice(b+1,1),c=!0)),b++;c&amp;&amp;this.diff_cleanupMerge(a)}; diff_match_patch.prototype.diff_xIndex=function(a,b){var c=0,d=0,e=0,f=0,g;for(g=0;g&lt;a.length;g++){a[g][0]!==DIFF_INSERT&amp;&amp;(c+=a[g][1].length);a[g][0]!==DIFF_DELETE&amp;&amp;(d+=a[g][1].length);if(c&gt;b)break;e=c;f=d}return a.length!=g&amp;&amp;a[g][0]===DIFF_DELETE?f:f+(b-e)}; diff_match_patch.prototype.diff_prettyHtml=function(a){for(var b=[],c=/&amp;/g,d=/&lt;/g,e=/&gt;/g,f=/\n/g,g=0;g&lt;a.length;g++){var h=a[g][0],l=a[g][1].replace(c,"&amp;amp;").replace(d,"&amp;lt;").replace(e,"&amp;gt;").replace(f,"&amp;para;&lt;br&gt;");switch(h){case DIFF_INSERT:b[g]='&lt;ins style="background:#54ff5491;"&gt;'+l+"&lt;/ins&gt;";break;case DIFF_DELETE:b[g]='&lt;del style="background:#ff070782;"&gt;'+l+"&lt;/del&gt;";break;case DIFF_EQUAL:b[g]="&lt;span&gt;"+l+"&lt;/span&gt;"}}return b.join("")}; diff_match_patch.prototype.diff_text1=function(a){for(var b=[],c=0;c&lt;a.length;c++)a[c][0]!==DIFF_INSERT&amp;&amp;(b[c]=a[c][1]);return b.join("")};diff_match_patch.prototype.diff_text2=function(a){for(var b=[],c=0;c&lt;a.length;c++)a[c][0]!==DIFF_DELETE&amp;&amp;(b[c]=a[c][1]);return b.join("")}; diff_match_patch.prototype.diff_levenshtein=function(a){for(var b=0,c=0,d=0,e=0;e&lt;a.length;e++){var f=a[e][1];switch(a[e][0]){case DIFF_INSERT:c+=f.length;break;case DIFF_DELETE:d+=f.length;break;case DIFF_EQUAL:b+=Math.max(c,d),d=c=0}}return b+=Math.max(c,d)}; diff_match_patch.prototype.diff_toDelta=function(a){for(var b=[],c=0;c&lt;a.length;c++)switch(a[c][0]){case DIFF_INSERT:b[c]="+"+encodeURI(a[c][1]);break;case DIFF_DELETE:b[c]="-"+a[c][1].length;break;case DIFF_EQUAL:b[c]="="+a[c][1].length}return b.join("\t").replace(/%20/g," ")}; diff_match_patch.prototype.diff_fromDelta=function(a,b){for(var c=[],d=0,e=0,f=b.split(/\t/g),g=0;g&lt;f.length;g++){var h=f[g].substring(1);switch(f[g].charAt(0)){case "+":try{c[d++]=new diff_match_patch.Diff(DIFF_INSERT,decodeURI(h))}catch(k){throw Error("Illegal escape in diff_fromDelta: "+h);}break;case "-":case "=":var l=parseInt(h,10);if(isNaN(l)||0&gt;l)throw Error("Invalid number in diff_fromDelta: "+h);h=a.substring(e,e+=l);"="==f[g].charAt(0)?c[d++]=new diff_match_patch.Diff(DIFF_EQUAL,h):c[d++]= new diff_match_patch.Diff(DIFF_DELETE,h);break;default:if(f[g])throw Error("Invalid diff operation in diff_fromDelta: "+f[g]);}}if(e!=a.length)throw Error("Delta length ("+e+") does not equal source text length ("+a.length+").");return c};diff_match_patch.prototype.match_main=function(a,b,c){if(null==a||null==b||null==c)throw Error("Null input. (match_main)");c=Math.max(0,Math.min(c,a.length));return a==b?0:a.length?a.substring(c,c+b.length)==b?c:this.match_bitap_(a,b,c):-1}; diff_match_patch.prototype.match_bitap_=function(a,b,c){function d(a,d){var e=a/b.length,g=Math.abs(c-d);return f.Match_Distance?e+g/f.Match_Distance:g?1:e}if(b.length&gt;this.Match_MaxBits)throw Error("Pattern too long for this browser.");var e=this.match_alphabet_(b),f=this,g=this.Match_Threshold,h=a.indexOf(b,c);-1!=h&amp;&amp;(g=Math.min(d(0,h),g),h=a.lastIndexOf(b,c+b.length),-1!=h&amp;&amp;(g=Math.min(d(0,h),g)));var l=1&lt;&lt;b.length-1;h=-1;for(var k,m,p=b.length+a.length,x,w=0;w&lt;b.length;w++){k=0;for(m=p;k&lt;m;)d(w, c+m)&lt;=g?k=m:p=m,m=Math.floor((p-k)/2+k);p=m;k=Math.max(1,c-m+1);var q=Math.min(c+m,a.length)+b.length;m=Array(q+2);for(m[q+1]=(1&lt;&lt;w)-1;q&gt;=k;q--){var t=e[a.charAt(q-1)];m[q]=0===w?(m[q+1]&lt;&lt;1|1)&amp;t:(m[q+1]&lt;&lt;1|1)&amp;t|(x[q+1]|x[q])&lt;&lt;1|1|x[q+1];if(m[q]&amp;l&amp;&amp;(t=d(w,q-1),t&lt;=g))if(g=t,h=q-1,h&gt;c)k=Math.max(1,2*c-h);else break}if(d(w+1,c)&gt;g)break;x=m}return h}; diff_match_patch.prototype.match_alphabet_=function(a){for(var b={},c=0;c&lt;a.length;c++)b[a.charAt(c)]=0;for(c=0;c&lt;a.length;c++)b[a.charAt(c)]|=1&lt;&lt;a.length-c-1;return b}; diff_match_patch.prototype.patch_addContext_=function(a,b){if(0!=b.length){if(null===a.start2)throw Error("patch not initialized");for(var c=b.substring(a.start2,a.start2+a.length1),d=0;b.indexOf(c)!=b.lastIndexOf(c)&amp;&amp;c.length&lt;this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)d+=this.Patch_Margin,c=b.substring(a.start2-d,a.start2+a.length1+d);d+=this.Patch_Margin;(c=b.substring(a.start2-d,a.start2))&amp;&amp;a.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL,c));(d=b.substring(a.start2+a.length1, a.start2+a.length1+d))&amp;&amp;a.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,d));a.start1-=c.length;a.start2-=c.length;a.length1+=c.length+d.length;a.length2+=c.length+d.length}}; diff_match_patch.prototype.patch_make=function(a,b,c){if("string"==typeof a&amp;&amp;"string"==typeof b&amp;&amp;"undefined"==typeof c){var d=a;b=this.diff_main(d,b,!0);2&lt;b.length&amp;&amp;(this.diff_cleanupSemantic(b),this.diff_cleanupEfficiency(b))}else if(a&amp;&amp;"object"==typeof a&amp;&amp;"undefined"==typeof b&amp;&amp;"undefined"==typeof c)b=a,d=this.diff_text1(b);else if("string"==typeof a&amp;&amp;b&amp;&amp;"object"==typeof b&amp;&amp;"undefined"==typeof c)d=a;else if("string"==typeof a&amp;&amp;"string"==typeof b&amp;&amp;c&amp;&amp;"object"==typeof c)d=a,b=c;else throw Error("Unknown call format to patch_make."); if(0===b.length)return[];c=[];a=new diff_match_patch.patch_obj;for(var e=0,f=0,g=0,h=d,l=0;l&lt;b.length;l++){var k=b[l][0],m=b[l][1];e||k===DIFF_EQUAL||(a.start1=f,a.start2=g);switch(k){case DIFF_INSERT:a.diffs[e++]=b[l];a.length2+=m.length;d=d.substring(0,g)+m+d.substring(g);break;case DIFF_DELETE:a.length1+=m.length;a.diffs[e++]=b[l];d=d.substring(0,g)+d.substring(g+m.length);break;case DIFF_EQUAL:m.length&lt;=2*this.Patch_Margin&amp;&amp;e&amp;&amp;b.length!=l+1?(a.diffs[e++]=b[l],a.length1+=m.length,a.length2+=m.length): m.length&gt;=2*this.Patch_Margin&amp;&amp;e&amp;&amp;(this.patch_addContext_(a,h),c.push(a),a=new diff_match_patch.patch_obj,e=0,h=d,f=g)}k!==DIFF_INSERT&amp;&amp;(f+=m.length);k!==DIFF_DELETE&amp;&amp;(g+=m.length)}e&amp;&amp;(this.patch_addContext_(a,h),c.push(a));return c}; diff_match_patch.prototype.patch_deepCopy=function(a){for(var b=[],c=0;c&lt;a.length;c++){var d=a[c],e=new diff_match_patch.patch_obj;e.diffs=[];for(var f=0;f&lt;d.diffs.length;f++)e.diffs[f]=new diff_match_patch.Diff(d.diffs[f][0],d.diffs[f][1]);e.start1=d.start1;e.start2=d.start2;e.length1=d.length1;e.length2=d.length2;b[c]=e}return b}; diff_match_patch.prototype.patch_apply=function(a,b){if(0==a.length)return[b,[]];a=this.patch_deepCopy(a);var c=this.patch_addPadding(a);b=c+b+c;this.patch_splitMax(a);for(var d=0,e=[],f=0;f&lt;a.length;f++){var g=a[f].start2+d,h=this.diff_text1(a[f].diffs),l=-1;if(h.length&gt;this.Match_MaxBits){var k=this.match_main(b,h.substring(0,this.Match_MaxBits),g);-1!=k&amp;&amp;(l=this.match_main(b,h.substring(h.length-this.Match_MaxBits),g+h.length-this.Match_MaxBits),-1==l||k&gt;=l)&amp;&amp;(k=-1)}else k=this.match_main(b,h, g);if(-1==k)e[f]=!1,d-=a[f].length2-a[f].length1;else if(e[f]=!0,d=k-g,g=-1==l?b.substring(k,k+h.length):b.substring(k,l+this.Match_MaxBits),h==g)b=b.substring(0,k)+this.diff_text2(a[f].diffs)+b.substring(k+h.length);else if(g=this.diff_main(h,g,!1),h.length&gt;this.Match_MaxBits&amp;&amp;this.diff_levenshtein(g)/h.length&gt;this.Patch_DeleteThreshold)e[f]=!1;else{this.diff_cleanupSemanticLossless(g);h=0;var m;for(l=0;l&lt;a[f].diffs.length;l++){var p=a[f].diffs[l];p[0]!==DIFF_EQUAL&amp;&amp;(m=this.diff_xIndex(g,h));p[0]=== DIFF_INSERT?b=b.substring(0,k+m)+p[1]+b.substring(k+m):p[0]===DIFF_DELETE&amp;&amp;(b=b.substring(0,k+m)+b.substring(k+this.diff_xIndex(g,h+p[1].length)));p[0]!==DIFF_DELETE&amp;&amp;(h+=p[1].length)}}}b=b.substring(c.length,b.length-c.length);return[b,e]}; diff_match_patch.prototype.patch_addPadding=function(a){for(var b=this.Patch_Margin,c="",d=1;d&lt;=b;d++)c+=String.fromCharCode(d);for(d=0;d&lt;a.length;d++)a[d].start1+=b,a[d].start2+=b;d=a[0];var e=d.diffs;if(0==e.length||e[0][0]!=DIFF_EQUAL)e.unshift(new diff_match_patch.Diff(DIFF_EQUAL,c)),d.start1-=b,d.start2-=b,d.length1+=b,d.length2+=b;else if(b&gt;e[0][1].length){var f=b-e[0][1].length;e[0][1]=c.substring(e[0][1].length)+e[0][1];d.start1-=f;d.start2-=f;d.length1+=f;d.length2+=f}d=a[a.length-1];e=d.diffs; 0==e.length||e[e.length-1][0]!=DIFF_EQUAL?(e.push(new diff_match_patch.Diff(DIFF_EQUAL,c)),d.length1+=b,d.length2+=b):b&gt;e[e.length-1][1].length&amp;&amp;(f=b-e[e.length-1][1].length,e[e.length-1][1]+=c.substring(0,f),d.length1+=f,d.length2+=f);return c}; diff_match_patch.prototype.patch_splitMax=function(a){for(var b=this.Match_MaxBits,c=0;c&lt;a.length;c++)if(!(a[c].length1&lt;=b)){var d=a[c];a.splice(c--,1);for(var e=d.start1,f=d.start2,g="";0!==d.diffs.length;){var h=new diff_match_patch.patch_obj,l=!0;h.start1=e-g.length;h.start2=f-g.length;""!==g&amp;&amp;(h.length1=h.length2=g.length,h.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,g)));for(;0!==d.diffs.length&amp;&amp;h.length1&lt;b-this.Patch_Margin;){g=d.diffs[0][0];var k=d.diffs[0][1];g===DIFF_INSERT?(h.length2+= k.length,f+=k.length,h.diffs.push(d.diffs.shift()),l=!1):g===DIFF_DELETE&amp;&amp;1==h.diffs.length&amp;&amp;h.diffs[0][0]==DIFF_EQUAL&amp;&amp;k.length&gt;2*b?(h.length1+=k.length,e+=k.length,l=!1,h.diffs.push(new diff_match_patch.Diff(g,k)),d.diffs.shift()):(k=k.substring(0,b-h.length1-this.Patch_Margin),h.length1+=k.length,e+=k.length,g===DIFF_EQUAL?(h.length2+=k.length,f+=k.length):l=!1,h.diffs.push(new diff_match_patch.Diff(g,k)),k==d.diffs[0][1]?d.diffs.shift():d.diffs[0][1]=d.diffs[0][1].substring(k.length))}g=this.diff_text2(h.diffs); g=g.substring(g.length-this.Patch_Margin);k=this.diff_text1(d.diffs).substring(0,this.Patch_Margin);""!==k&amp;&amp;(h.length1+=k.length,h.length2+=k.length,0!==h.diffs.length&amp;&amp;h.diffs[h.diffs.length-1][0]===DIFF_EQUAL?h.diffs[h.diffs.length-1][1]+=k:h.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,k)));l||a.splice(++c,0,h)}}};diff_match_patch.prototype.patch_toText=function(a){for(var b=[],c=0;c&lt;a.length;c++)b[c]=a[c];return b.join("")}; diff_match_patch.prototype.patch_fromText=function(a){var b=[];if(!a)return b;a=a.split("\n");for(var c=0,d=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;c&lt;a.length;){var e=a[c].match(d);if(!e)throw Error("Invalid patch string: "+a[c]);var f=new diff_match_patch.patch_obj;b.push(f);f.start1=parseInt(e[1],10);""===e[2]?(f.start1--,f.length1=1):"0"==e[2]?f.length1=0:(f.start1--,f.length1=parseInt(e[2],10));f.start2=parseInt(e[3],10);""===e[4]?(f.start2--,f.length2=1):"0"==e[4]?f.length2=0:(f.start2--,f.length2= parseInt(e[4],10));for(c++;c&lt;a.length;){e=a[c].charAt(0);try{var g=decodeURI(a[c].substring(1))}catch(h){throw Error("Illegal escape in patch_fromText: "+g);}if("-"==e)f.diffs.push(new diff_match_patch.Diff(DIFF_DELETE,g));else if("+"==e)f.diffs.push(new diff_match_patch.Diff(DIFF_INSERT,g));else if(" "==e)f.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,g));else if("@"==e)break;else if(""!==e)throw Error('Invalid patch mode "'+e+'" in: '+g);c++}}return b}; diff_match_patch.patch_obj=function(){this.diffs=[];this.start2=this.start1=null;this.length2=this.length1=0}; diff_match_patch.patch_obj.prototype.toString=function(){for(var a=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],b,c=0;c&lt;this.diffs.length;c++){switch(this.diffs[c][0]){case DIFF_INSERT:b="+";break;case DIFF_DELETE:b="-";break;case DIFF_EQUAL:b=" "}a[c+1]=b+encodeURI(this.diffs[c][1])+"\n"}return a.join("").replace(/%20/g," ")}; this.diff_match_patch=diff_match_patch;this.DIFF_DELETE=DIFF_DELETE;this.DIFF_INSERT=DIFF_INSERT;this.DIFF_EQUAL=DIFF_EQUAL;   &lt;/script&gt;
&lt;script&gt;
    var dmp = new diff_match_patch();

    function launch() {
        var text1 = document.getElementById('text1').value;
        var text2 = document.getElementById('text2').value;
        dmp.Diff_Timeout = parseFloat(document.getElementById('timeout').value);
        dmp.Diff_EditCost = parseFloat(document.getElementById('editcost').value);

        var ms_start = (new Date()).getTime();
        var d = dmp.diff_main(text1, text2);
        var ms_end = (new Date()).getTime();

        if (document.getElementById('semantic').checked) {
            dmp.diff_cleanupSemantic(d);
        }
        if (document.getElementById('efficiency').checked) {
            dmp.diff_cleanupEfficiency(d);
        }
        var ds = dmp.diff_prettyHtml(d);
        document.getElementById('outputdiv').innerHTML = ds + '&lt;BR&gt;Time: ' + (ms_end - ms_start) / 1000 + 's';
    }
&lt;/script&gt;
</code></pre></div></div>

      </main>
    </article>
  </body>
</html>

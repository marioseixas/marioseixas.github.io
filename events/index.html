<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>infoBAG</title>
    <meta name="title" content="infoBAG" />
    <meta name="description" content="can't steer unless already moving" />
    <link rel="canonical" href="https://ib.bsb.br/events/">
    <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
    <link href="/style.css" rel="stylesheet">
    <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
    <script src="/assets/js/prism.js" defer></script>
    <script src="/assets/js/search.js" defer></script>
    <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
    <script type="module">
      import PagefindHighlight from '/pagefind/pagefind-highlight.js';
      new PagefindHighlight({ highlightParam: "highlight" });
    </script>
    
      <meta itemprop="keywords" content="">
      
    
  </head>
  <body class="post-content-body">
    <header class="header-container">
      <div id="search" class="search-input-block"></div>
      <nav aria-label="Main navigation" class="header-content">
        <a href="/" aria-label="Home">
          <img src="/assets/Sudden_Death_Rune.gif" alt="Sudden Death Rune" class="favicon search-link">
        </a>
        <a href="https://ib.bsb.br/archive" aria-label="Archive">
          <img src="/favicon.ico" alt="Archive Icon" class="favicon search-link">
        </a>
        <a href="https://ib.bsb.br/tags" aria-label="Tags">
          <img src="/assets/Label.gif" alt="Tags Icon" class="favicon search-link">
        </a>
        <a href="https://ib.bsb.br/events" aria-label="Events">
          <img src="/assets/Paralyse_Rune.gif" alt="Events Icon" class="favicon search-link">
        </a>
      </nav>
    </header>
    <article class="post-wrapper">
      <main class="content">
        <p><button id="triggerWorkflow">Events</button></p>

<script>
document.getElementById('triggerWorkflow').addEventListener('click', () => {
  // Configuration Variables
  const owner = 'marioseixas';
  const repo = 'marioseixas.github.io';
  const workflow_id = 'jekyll.yml'; // Can also be the workflow ID number
  const ref = 'main';
  // It's highly recommended to handle the token securely on the server side
  const personalAccessToken = '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';
  
  const url = `https://api.github.com/repos/${owner}/${repo}/actions/workflows/${workflow_id}/dispatches`;
  
  const data = {
    ref: ref
    // Include inputs here if your workflow requires them
  };
  
  fetch(url, {
    method: 'POST',
    headers: {
      'Authorization': `token ${personalAccessToken}`,
      'Accept': 'application/vnd.github.v3+json',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(data)
  })
  .then(response => {
    if (response.status === 204) {
      alert('Workflow triggered successfully!');
    } else {
      response.json().then(data => {
        alert(`Failed to trigger workflow: ${data.message}`);
      });
    }
  })
  .catch(error => {
    console.error('Error:', error);
    alert('An error occurred while triggering the workflow.');
  });
});
</script>

<!-- Load FullCalendar Library -->
<script src="/assets/js/vendor/fullcalendar/index.global.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    fetch('/assets/data/events.json')
      .then(response => response.json())
      .then(data => {
        var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'listMonth',
          events: data
        });
        calendar.render();
      })
      .catch(error => {
        console.error('Error loading events:', error);
      });
  });
</script>

<div id="calendar"></div>

      </main>
    </article>
  </body>
</html>

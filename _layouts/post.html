---
layout: default
---

<div class="post-wrapper">
  <article class="post">
    <header class="post-heading">
      <h1 class="post-title">{{ page.title }}</h1>
      <div class="search-link">
        <span>
          <span class="tags">
            <time datetime="{{ page.date | date_to_xmlschema }}">
              · {{ page.date | date_to_string }}
            </time>
            {% if page.last_modified_at %}
            &rightarrowtail;
            <time datetime="{{ page.last_modified_at | date_to_xmlschema }}">
                {{ page.last_modified_at | date_to_string }}
              </time>
            {% endif %}
          </span>          
          {% if page.tags %}
            <span>
              · Tags:
              {% for tag in page.tags %}
                <a href="{{ site.baseurl }}/tags/#{{ tag | slugify }}" class="tag">{{ tag }}</a>{% unless forloop.last %},{% endunless %}
              {% endfor %}
            </span>
          {% endif %}          
          {% if page.info %}
            <span class="tags">
              · Edit: {{ page.info }}
            </span>
          {% endif %}          
          <a href="https://github.com/marioseixas/marioseixas.github.io/edit/main/{{ page.path }}" target="_blank" rel="noopener noreferrer">
            · Improve this
          </a>
          <a href="https://github.com/marioseixas/marioseixas.github.io/commits/main/{{ page.path }}" target="_blank" rel="noopener noreferrer">
            · Revision history
          </a>
        </span>
      </div>
    </header>

    <div class="post-content-body">
      {{ content | markdownify }}
    </div>
<!-- Mermaid.js Initialization -->
<script src="https://unpkg.com/mermaid@10.9.0/dist/mermaid.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    if (typeof mermaid !== 'undefined') {
      const init = () => {
        mermaid.initialize({
          startOnLoad: true,
          theme: window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'default',
          flowchart: { 
            curve: 'basis',
            useMaxWidth: false,
            rankSpacing: 40,
            nodeSpacing: 40,
            padding: 5
          },
          securityLevel: 'loose',
          themeVariables: {
            fontFamily: getComputedStyle(document.body).getPropertyValue('--ft').trim() || '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
            fontSize: '14px'
          }
        });

        document.querySelectorAll('.mermaid').forEach(function(element) {
          const wrapper = document.createElement('div');
          wrapper.className = 'mermaid-wrapper';
          element.parentNode.insertBefore(wrapper, element);
          wrapper.appendChild(element);
          
          mermaid.init(undefined, element);
        });
      };

      init();

      // Dynamically adjust diagram on window resize
      let resizeTimer;
      window.addEventListener('resize', function() {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(function() {
          document.querySelectorAll('.mermaid').forEach(function(element) {
            element.removeAttribute('data-processed');
          });
          init();
        }, 250);
      });

      // Handle theme changes
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function(e) {
        document.querySelectorAll('.mermaid').forEach(function(element) {
          element.removeAttribute('data-processed');
        });
        init();
      });
    }
  });
</script>
    <script src="{{ '/assets/js/copy-to-clipboard.js' | relative_url }}" defer></script>
  </article>
  {% cusdis_comments %}
</div>

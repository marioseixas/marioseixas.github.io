<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    
      How to make bootable Windows USB from Linux for old computers — infoBAG
    
  </title>
  <meta name="title" content="infoBAG" />
  <meta name="description" content="can't steer unless already moving" />
  <link rel="canonical" href="https://ib.bsb.br/ms-sys/">
  <link rel="alternate" type="application/rss+xml" title="infoBAG" href="https://ib.bsb.br/rss.xml">
  
    <meta itemprop="keywords" content="linux">
    
      <meta property="article:tag" content="linux">
    
  
  <link href="/style.css" rel="stylesheet">
  <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
  <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
  <script type="module">
    import PagefindHighlight from '/pagefind/pagefind-highlight.js';
    new PagefindHighlight({ highlightParam: "highlight" });
  </script>
  <script src="/assets/js/search.js" defer></script>
  <script src="/assets/js/prism.js" defer></script>
</head>
<body class="post-content-body">
  <header class="header-container">
    <nav aria-label="Main navigation" class="header-content">
      <a class="internal-link" href="/" aria-label="Home">
        <img src="/assets/Sudden_Death_Rune.gif" alt="Sudden Death Rune" class="favicon">
      </a>
      <a href="https://ib.bsb.br/archive" aria-label="Archive">
        <img src="/favicon.ico" alt="Archive Icon" class="favicon">
      </a>
      <a href="https://ib.bsb.br/tags" aria-label="Tags">
        <img src="/assets/Label.gif" alt="Tags Icon" class="favicon">
      </a>
      <a href="https://ib.bsb.br/events" aria-label="Events">
        <img src="/assets/Paralyse_Rune.gif" alt="Events Icon" class="favicon">
      </a>
    </nav>
    <div class="search-link">
      <div id="search" class="search-input-block"></div>
    </div>
  </header>
  <article class="post-wrapper">
    <div class="post-heading">
      <h1 class="post-title">How to make bootable Windows USB from Linux for old computers</h1>
      <div class="post-meta">
        <time datetime="2020-10-22T03:00:00+00:00" class="post-date">
          22 Oct 2020</time><span class="post-updated"> &rightarrowtail; <time datetime="2024-07-13T13:46:16+00:00">13 Jul 2024
          </time>
          </span>
        
        
        <div class="post-info">
          Edit: fechado.
        </div>
        
        
        <div class="post-tags">
          Tags:
          
          <a href="https://ib.bsb.br/tags/#linux" class="tag">
            linux
          </a>
          
          
        </div>
        
        <div class="post-actions">
          <a href="https://github.com/marioseixas/marioseixas.github.io/edit/main/_posts/2020-10-22-ms-sys.md" target="_blank" rel="noopener noreferrer" class="btn-primary">
            Improve this page
          </a>
          <a href="https://github.com/marioseixas/marioseixas.github.io/commits/main/_posts/2020-10-22-ms-sys.md" target="_blank" rel="noopener noreferrer" class="btn-secondary">
            View revision history
          </a>
        </div>
      </div>
    </div>
    <main class="content">
      
<ul><li><a href="#install-ms-sys">Install ms-sys</a></li><li><a href="#gparted-to-make-an-ntfs-partition">GParted to make an NTFS partition</a></li><li><a href="#ms-sys-to-write-a-mbr">ms-sys to write a MBR</a></li><li><a href="#copy-the-files-from-the-windows-iso-to-the-ntfs-partition">Copy the files from the Windows ISO to the NTFS partition</a></li><li><a href="#boot-from-the-usb-drive">Boot from the USB Drive</a></li></ul>
      <h1 id="install-ms-sys">
    
    
     <a href="#install-ms-sys">#</a><a href="#" aria-label="Back to top">Install ms-sys</a>
        
    
  </h1>
      
<p>You will need ms-sys to write a Master Boot Record (MBR) to the USB drive.</p>

<p>Make sure you have installed the…</p>

<ul>
  <li>gcc</li>
  <li>make</li>
  <li>gettext</li>
</ul>

<p>…repository packages in order to compile the source code.</p>

<p>Download the latest source code from <a href="http://ms-sys.sourceforge.net/">http://ms-sys.sourceforge.net/</a></p>

<p>Un-tar the source code and change into the source code directory:</p>

<p><code class="language-plaintext highlighter-rouge">tar xvzf ms-sys*</code></p>

<p><code class="language-plaintext highlighter-rouge">cd ms-sys-2.7.0</code></p>

<p>Compile and install the binary:</p>

<p><code class="language-plaintext highlighter-rouge">make</code></p>

<p><code class="language-plaintext highlighter-rouge">sudo make install</code></p>

<p>ms-sys will install to /usr/local/bin. Be sure to add this path if it is not in the root user’s environment PATH:</p>

<p><code class="language-plaintext highlighter-rouge">su -</code></p>

<p><code class="language-plaintext highlighter-rouge">export PATH=$PATH:/usr/local/bin</code></p>
  <h1 id="gparted-to-make-an-ntfs-partition">
    
    
     <a href="#gparted-to-make-an-ntfs-partition">#</a><a href="#" aria-label="Back to top">GParted to make an NTFS partition</a>
        
    
  </h1>
      

<p>Once you have gparted installed, launch it from application launcher, click on dropdown menu in top right corner and select your external USB drive. Make sure that you have selected the correct drive and then click on the “Device” menu. Click on “Create Partition Table…” to completely format the drive.</p>

<p>On the next screen, ensure that the “partition table type” is “msdos” and click on the “Apply” button.</p>

<p>Once the partition table has been created, right click on unallocated space and click on “New” menuentry.</p>

<p>In the “File system:” dropdown menu, select “ntfs” and click on the “Add” button.</p>

<p>Next, click on the green tick button on the top toolbar to apply the changes.</p>
  <h1 id="ms-sys-to-write-a-mbr">
    
    
     <a href="#ms-sys-to-write-a-mbr">#</a><a href="#" aria-label="Back to top">ms-sys to write a MBR</a>
        
    
  </h1>
      

<p>Run “ms-sys -n” on the partition…</p>

<p><code class="language-plaintext highlighter-rouge">ms-sys -n /dev/sdX1</code></p>

<p>…and “ms-sys -7” on the whole USB device itself</p>

<p><code class="language-plaintext highlighter-rouge">ms-sys -7 /dev/sdX</code></p>
  <h1 id="copy-the-files-from-the-windows-iso-to-the-ntfs-partition">
    
    
     <a href="#copy-the-files-from-the-windows-iso-to-the-ntfs-partition">#</a><a href="#" aria-label="Back to top">Copy the files from the Windows ISO to the NTFS partition</a>
        
    
  </h1>
      

<p>Mount the USB Drive</p>

<p><code class="language-plaintext highlighter-rouge">sudo mkdir -p /mnt/flash</code></p>

<p><code class="language-plaintext highlighter-rouge">sudo mount /dev/sdX1 /mnt/flash</code></p>

<p>Mount the Windows ISO</p>

<p><code class="language-plaintext highlighter-rouge">sudo mkdir -p /mnt/iso</code></p>

<p><code class="language-plaintext highlighter-rouge">sudo mount -o loop /tmp/windows.iso /mnt/iso</code></p>

<p>Copy the Contents of the Windows ISO to the USB Drive</p>

<p><code class="language-plaintext highlighter-rouge">sudo cp -av /mnt/iso/* /mnt/flash/</code></p>

<p>Unmount the USB Drive</p>

<p><code class="language-plaintext highlighter-rouge">sudo umount /mnt/flash</code></p>
  <h1 id="boot-from-the-usb-drive">
    
    
     <a href="#boot-from-the-usb-drive">#</a><a href="#" aria-label="Back to top">Boot from the USB Drive</a>
        
    
  </h1>
      

<p>Plugin the USB drive to the computer you want to install Windows on and boot to USB-HDD or USB-ZIP.</p>
      
      
      <div class="nav-arrow prev">
        <a href="/call-10-2020/" title="Call de Outubro de 2020">
          <span aria-hidden="true">&#8672;</span>
        </a>
      </div>
      
      
      <div class="nav-arrow next">
        <a href="/outubro-20/" title="Outubro 2020">
          <span aria-hidden="true">&#8674;</span>
        </a>
        
    </main>
    <hr>    
    
  </article>
</body>
</html>
